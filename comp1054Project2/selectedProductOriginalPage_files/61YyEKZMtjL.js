(function(u){var q=window.AmazonUIPageJS||window.P,fa=q._namespace||q.attributeErrors,f=fa?fa("DetailPageImageBlockAssets",""):q;f.guardFatal?f.guardFatal(u)(f,window):f.execute(function(){u(f,window)})})(function(u,q,fa){u.register("postMetric",function(){return{postCountMetric:function(f){if("undefined"!==typeof f){var a=q.ue;if(a){var b=a.count(f)||0;a.count(f,b+1)}}},postTimeMetric:function(f,a){if("undefined"!==typeof f&&"undefined"!==typeof a){var b=q.ue;b&&b.count(f,a)}},emitNexusMetric:function(f){q.ue&&
ue.event&&ue.event(f,"VSEImageBlockEvents","vse.VSEImageBlockEvents.3",{ssd:!1})},buildNexusMetric:function(f,a,b,k,m,d,p,e){return{eventSource:"IBCarousel",placementContext:e,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:f,intPayload:a,videoAsin:b,videoAsinList:"",groupType:k,pageUrl:m,pageAsin:d,weblabIds:p}}}});"use strict";u.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});u.register("postEarlyMetric",function(){return null});"use strict";
u.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(f,a,b,k){f=f.extend(!0,{},b,k);var m=new a(f);u.register("ImageBlockAPI",function(){return m.api});return m});"use strict";u.when("A","jQuery").execute(function(f,a){f.on("a:image:load:landingImage",function(){q.performance&&performance.now&&q.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});f.loadDynamicImage(a("#landingImage"))});"use strict";u.when("ImageBlockATF",
"atf").register("ImageBlockAiryLoader",function(f){function a(a){a&&(u.load.js(a),q.performance&&performance.now&&q.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",q.parseInt(performance.now())))}function b(a){a&&u.load.css(a)}var k=f.airyConfig;k===fa?u.when("ImageBlockBTF").execute(function(f){k=f.airyConfig;a(k.jsUrl);b(k.cssUrl)}):(a(k.jsUrl),b(k.cssUrl))});"use strict";u.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",function(f,
a,b,k,m){var d={};return function(p){var e=this;e.dispatch=function(a,b){var e=d[a];k.isDefined(e)&&f.each(e,function(a,d){d.call(q,b)})};e.register=function(a,b){k.isDefined(d[a])||(d[a]=[]);"function"===typeof b&&d[a].push(b)};e.model=new a(p,e);e.view=new b(p,e,e.model);e.api=new m(p,e,e.model);e.init=function(){e.model.init();e.view.init()};e.init()}});"use strict";u.when("A","imageBlockUtils").register("ImageBlockModel",function(f,a){function b(b,d,f,e,p,k){a.isDefined(b)&&(n.type=b);a.isDefined(d)&&
(n.index=d);a.isDefined(f)&&(n.thumbnailIndex=f);a.isDefined(e)&&(n.variant=e);a.isDefined(p)&&(n.color=p);n.shoppableScene=k||null}function k(a){b("image",0,0,"MAIN",a||e.landingAsinColor||e.defaultColor,null)}function m(a){a=a.data;O=f.copy(n);b(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function d(a){m(a);a=f.copy(a);a.data=f.copy(n);G.dispatch("updateView",a)}function p(){O=f.copy(n);k(n.color)}var e,G,n={},O={},A,q;return function(a,b){G=b;e=a;G.register("updateSelection",
d);G.register("updateModel",m);G.register("resetModel",p);this.init=function(){k()};this.getCurrentItem=function(){return f.copy(n)};this.getPreviousItem=function(){return f.copy(O)};this.setCurrentEvent=function(a){A=a};this.getCurrentEvent=function(){return A};this.setImmersiveViewModalInstance=function(a){q=a};this.getImmersiveViewModalInstance=function(){return q};this.updateTitle=function(a){e.title=a}}});"use strict";u.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",function(f,
a){function b(a,b,p,e,k){function n(a){"click"===a.type&&e.postCountMetric("thumbClick");"click"===a.type&&l.overrideAltImageClickAction?w.dispatch("thumbActionClick",a):w.dispatch("updateSelection",a)}function O(a){l.useClickZoom||w.dispatch("imageClick",a)}function A(a){l.useClickZoom||w.dispatch("imageHover",a)}function J(a){w.dispatch("button360Click",a)}function r(b){!p.isDefined(b)||"swatchClick"!==b.type&&"updatedData"!==b.type?(v.update(b),"swatchHover"!==b.type&&x.getPreviousItem().thumbnailIndex!==
b.data.thumbnailIndex&&e.postCountMetric(b.data.type+"ThumbnailSelected"),a.trigger("image-block-thumbnail-selected",b.data)):(v.render(b.data.color,!1,b.onload),b={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof q.markFeatureRender&&q.markFeatureRender("imageblock",b))}function D(a){w.dispatch("resize",a)}function I(a){p.selectThumbnail(a,B)}function P(){"function"===typeof q.markFeatureInteractive&&q.markFeatureInteractive("imageblock",{hasComponents:!0,
components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function N(){"function"===typeof q.markFeatureInteractive&&q.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]});1===f.useIV?u.when("a-modal").execute(function(){P()}):P();l.disableHoverOnAltImages||a.declarative("thumb-action",["mouseenter","mouseleave"],n);a.declarative("thumb-action",["click"],
n);a.declarative("main-image-click",["click"],O);a.declarative("main-image-click",["mouseenter","mouseleave"],A);a.declarative("button-360-click",["click"],J);a.on("resize",D)}function y(a){var b=a.data,g;b&&"ingress"!==b.type&&"click"===a.type&&(g=a);return g}function g(a){var b=x.getCurrentItem(),g={type:"click"};g.$declarativeParent=a;g.data=b;return g}var v,l,w,x,B;return function(a,f,e){v=this;l=a;w=f;x=e;B=b("#imageBlock #altImages ul");var p=b("#imageBlock .canvas"),h=b("#main-image-container"),
c;v.subViews=[];for(f=0;f<k.length;f++)v.subViews.push(new k[f](a,e,v,w));v.render=function(a,f,e){var l=0;B.find(".item").remove();a=a||x.getCurrentItem().color;b.each(v.subViews,function(c,b){l=b.render(a,l,p,B,h,f,e)||l});var k=B.find(".a-button-selected").closest(".a-declarative");c=g(k)};v.init=function(){B=b("#imageBlock #altImages ul");var a=B.find(".a-button-selected").closest(".a-declarative"),h=a.data("action"),a=a.data(h)||{};a.color=l.landingAsinColor||l.defaultColor;w.dispatch("updateModel",
{data:a});v.render(a.color,!0);l.isDebug&&q.console&&console.log(l);w.register("updateView",r);w.register("selectThumbnail",I);N()};v.update=function(a){b.each(v.subViews,function(h,c){c.update(a)});l.usePeekHover&&("mouseleave"===a.type?w.dispatch("updateSelection",c):"click"===a.type&&(c=y(a)||c))}}}var k=["A","jQuery","imageBlockUtils","postMetric"].concat(f.views);u.when.apply(u,k).register("ImageBlockView",function(){for(var a=arguments[0],d=arguments[1],f=arguments[2],e=arguments[3],k=[],n=
4,O=arguments.length;n<O;n++)k.push(arguments[n]);return b(a,d,f,e,k)})});"use strict";u.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(f,a,b,k,m,d,p){function e(g,h,c,d){if(!b.isjQueryObjDefined(g.find(".a-button-selected"))){var f=w.getCurrentItem();if(!d||"chromeless-video"!==f.type||!l.autoplayVideo){d=0;"image"===f.type&&(d=Math.max(A(f.color,f.variant),0));var e=h+d;e>=c&&(d=0,e=h);
h=b.getImageHash(f.color,d,l);-1!==h&&(x.dispatch("updateModel",{data:{index:d,thumbnailIndex:e,variant:h.variant,type:"image",shoppableScene:h.shoppableScene}}),h=g.find(".item").get(e),b.selectGivenThumbnail(a(h),g))}}}function G(g,h,c){h=l.colorImages&&l.colorImages[h];var f=g;b.isDefined(h)&&(a.each(h,function(a,h){g<l.maxAlts&&(b.createThumbnail({type:"image",index:a,thumbnailIndex:g,variant:h.variant,shoppableScene:h.shoppableScene},h.thumb,B,"imageThumbnail"),g++)}),d.isEnabled&&p.logAltImgRequestPlacedOnThumbnails(a,
d,w),e(B,f,g,c));return g}function n(g,h){if("image"===g.type){var c=a("#image-canvas-caption #canvasCaption"),d,f=l.staticStrings,e=l.colorImages,k=g.color,p=g.index;b.isShoppableScenesEnabled()&&g.shoppableScene?d=f.clickSceneTagsToShopProducts:h&&l.useIV?d=f.clickToExpand:e[k]&&e[k][p].hiRes&&l.useHoverZoom?(d=l.useHoverZoomIpad?f.touchToZoom:l.useClickZoom?f.clickToZoom:f.rollOverToZoom,l.hoverZoomIndicator&&(d="\x3cimg src\x3d'"+l.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+d)):l.useIV&&(d=
f.clickToExpand);c.html(d)}}function O(){L.find("li").removeClass("selected");a("#image-canvas-caption #canvasCaption").empty();b.hideUnavailable()}function A(a,h){return b.getIndexForVariant(a,h,l)}function J(g,h){var c="a-dynamic-image";if(!l.acEnabled){var d;a.each(g.main,function(a,h){b.isDefined(d)||(d=parseFloat(h[1]/h[0])<=parseFloat(l.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});c+=d}var f=b.getMaxDimensionsOfMainImage(g.main,K,l),e=f[0],k=f[1],f=a("\x3cdiv\x3e\x3c/div\x3e"),
e={"max-height":e,"max-width":k};f.addClass(c).css(e).attr({"data-old-hires":g.hiRes,"data-a-manual-replacement":"true",onload:h}).data("a-dynamic-image",g.main);return f}function r(a,h,c){var b="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&uet("bb",b,{wb:1});c.attr("data-a-image-name","shoppable-scene:"+a);c=L.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");c.addClass("celwidget").attr("cel_widget_id",
b);c.children("span").css("display","inline-block");x.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:h.shoppableScene,imageSource:h.hiRes||h.large||h.lowRes,$tagPlaceholder:c.find(".mirai-scene-tag-placeholder"),$viewProductsButton:c.find(".mirai-scene-view-products-button")});"MutationObserver"in q&&(new MutationObserver(function(b,c){b.forEach(function(b){"childList"===b.type&&b.target.classList.contains("mirai-scene-image-block-tag-container")&&1===b.addedNodes.length&&"IMG"===b.addedNodes[0].tagName&&
""!==b.addedNodes[0].src&&(b=b.addedNodes[0],"function"!==typeof b.onload&&(b.onload=function(){f.trigger("shoppable-scene-image-loaded",{index:a,shoppableScene:h.shoppableScene})}),c.disconnect())})})).observe(c.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",b,{wb:1});return c}function D(a){var h=K.css("height");null!==h&&a.find(".imgTagWrapper").css("height",h);a.addClass("selected");l.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(l.imgTagWrapperClasses)}
function I(a,h){if("image"===a.type||"unavailable"===a.type||"lazy-loaded"===a.type){b.isDefined(h)&&m.postCountMetric("mainImageUpdateOnTwisterVariationClick");var c=b.getImageHash(a.color,a.index,l);if(-1===c)return c={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},N(a)||(x.dispatch("updateModel",c),b.showUnavailable(a.color)),-1;var g=L.find(".item.itemNo"+a.thumbnailIndex);if(!b.isjQueryObjDefined(g)){var g=a.thumbnailIndex,e=J(c,h),k;k=b.isShoppableScenesEnabled()&&c.shoppableScene?
r(g,c,e):L.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");k.addClass("image item itemNo"+g+" maintain-height");k.find(".placeHolder").replaceWith(e);L.find(".list").append(k);f.loadImageManually(e);g=k}D(g);x.dispatch("loadMagnifier");n(a);l.useIV&&b.isDefined(c.hiRes)&&g.css("cursor","pointer");a.isUserGenerated&&(g=w.getPreviousItem(),e=a.variant,b.isDefined(e)&&g.thumbnailIndex!==a.thumbnailIndex&&(d.isEnabled&&p.logAltImgRequestServed(d),m.postCountMetric("ImageThumbnailSelectedVariant:"+
e),0===e.indexOf("IG")&&(m.postCountMetric("IGImageSelectedVariant:"+e),m.postCountMetric("IGImageSelectedEvent:"+a.interaction))));f.trigger("dp:image-block:update",c)}}function P(){a("#imageBlock").css("opacity","1");L.css("opacity","1");b.spinner(L,!1)}function N(a){return b.lazyLoadingRequired(a,w,l)}function y(){var g=L.find(".item .imgTagWrapper"),h=b.getContainerHeight(K,l.holderRatio,l.holderMaxHeight);0<h&&(K.height(h),g.height(h));L.find("img.a-dynamic-image").each(function(){var h=a(this);
h.data("a-manual-replacement")&&f.loadDynamicImage(this);var g=h.data("a-dynamic-image"),g=b.getMaxDimensionsOfMainImage(g,K,l);h.css({"max-height":g[0]+"px","max-width":g[1]+"px"})})}function g(a){n(w.getCurrentItem(),"mouseenter"===a.type)}var v,l,w,x,B,L,K,E;f.on("triggerImageAjax",function(a){var h=w.getCurrentItem().color;l.colorImages[h]||(l.colorImages[h]=a);a={type:"updatedData",data:w.getCurrentItem()};x.dispatch("updateView",a);(h=l.colorToAsin[h])&&h.asin&&u.register(b.rankedImagesReadyEvent(h.asin))});
return function(a,h,c,d){v=this;l=a;w=h;x=d;l.colorImages[l.landingAsinColor]=l.colorImages[l.defaultColor];v.render=function(a,h,b,c,g,d,f){L=b;B=c;K=g;E=G(h,a,d);d||(a=w.getCurrentItem(),N(a)&&x.dispatch("updateModel",{data:{type:"lazy-loaded"}}));a=w.getCurrentItem();d=!d;N(a)||(P(),O(),d&&L.find(".list .item").remove());I(w.getCurrentItem(),f);return E};v.update=function(a){var h=a.data;w.setCurrentEvent(a);"ingress"===h.type||N(a.data)||(P(),O());if("swatchHover"===a.type)if(h.color===w.getCurrentItem().color)I(w.getCurrentItem());
else{if(!a.captured){var c;c=Math.max(A(h.color,w.getCurrentItem().variant),0);c=b.getImageHash(h.color,c,l);if(-1===c)N(h)||b.showUnavailable(h.color),c=-1;else{var h=L.find(".swatchHoverExp"),g=J(c);h.find(".imgTagWrapper").html(g);f.loadImageManually(g);m.postCountMetric("mainImageUpdateOnTwisterVariationHover");D(h);f.trigger("dp:image-block:update",c);c=void 0}-1!==c&&(a.captured=!0)}}else"image"===h.type&&(h.interaction=a.type,h.isUserGenerated=!0,"mouseenter"===a.type&&m.postCountMetric("dpcc_imageThumbHovered_"+
(h.thumbnailIndex+1)+"_"+E),I(h),l.usePeekHover&&"click"!==a.type||(b.selectGivenThumbnail(a.$declarativeParent,B),"click"===a.type&&(m.postCountMetric("dpcc_imageThumbClicked_total"),m.postCountMetric("dpcc_imageThumbClicked_"+(h.thumbnailIndex+1)+"_"+E))))};l.overrideAltImageClickAction&&b.addTag("clickEnabledOnAltImages");x.register("imageHover",g);x.register("resize",y)}});"use strict";u.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",
function(f,a,b,k,m,d){function p(a){P?a.css("cursor","url('"+A.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in"))}function e(a){var d=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);a={};if(b.isDefined(d))for(var d=d[1].split("_"),g=0;g<d.length;g++){var f=d[g].match(/^([A-Z]+)(\d+(\.\d+)?)$/);b.isDefined(f)&&(a[f[1]]=parseInt(f[2],10))}return a}function G(n,y){function g(){var a;y.useClickZoom?(a=y.offsetInClickZoom,a=[Math.min(1,
Math.max(0,F[0]-(C[0]+a))/(C[2]-2*a)),Math.min(1,Math.max(0,F[1]-(C[1]+a))/(C[3]-2*a))]):a=c&&c.updatePosition();if(a&&h&&h.detailSize){var b=[h.detailSize[0]-h.rect.width,h.detailSize[1]-h.rect.height];f.capabilities.rtl?h.detailImage.get(0).style.right=-(a[0]*b[0])+"px":h.detailImage.get(0).style.left=-(a[0]*b[0])+"px";h.detailImage.get(0).style.top=-(a[1]*b[1])+"px"}}function v(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function l(h){var b=R?h.originalEvent.touches[0]||h.originalEvent.changedTouches[0]:
"";F=R?[b.pageX,b.pageY]:[h.pageX,h.pageY];if(f.capabilities.rtl){var c=a(q).width();F=R?[c-b.pageX,b.pageY]:[c-h.pageX,h.pageY]}}function w(a){R&&a.preventDefault();l(a);y.useClickZoom?a=[C[0],C[1],C[0]+C[2],C[1]+C[3]]:(a=c?c.offset:n.offsetParent().offset(),a=A.acEnabled?[a.left,a.top,O.width()+a.left,O.height()+a.top]:[H[0]+a.left,H[1]+a.top,H[0]+H[2]+a.left,H[1]+H[3]+a.top]);F[0]<a[0]||F[1]<a[1]||F[0]>=a[2]||F[1]>=a[3]||A.acEnabled&&!v(n)?(y.fadeMagnifier?X||(X=!0,ca=setTimeout(function(){x(!0)},
500)):y.useClickZoom||x(),z&&(z=!1,clearTimeout(Y))):(z||(z=!0,Y=setTimeout(function(){k.postCountMetric("dppc_hoverZoomOpened");m.isEnabled&&d.logHoverZoomRequestServed(m)},1E3)),y.fadeMagnifier&&X&&(X=!1,clearTimeout(ca)),g())}function x(b){b&&r.suppressMagnifier(!0);if(I&&(h&&h.hide(),c&&(c.destroy(),c=null),I=!1,R?(n.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),a(document).trigger("disengaged.magnifier")):a(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),
G(),b))n.one("click.magnifier touchstart.magnifier",function(a){B(a,!0)})}function B(b,d){d&&r.suppressMagnifier(!1);if(!I&&!U&&(0===u&&(k.postCountMetric("dppc_hoverTime",new Date-(q.ue&&q.ue.t0||0)),u=1),na[V]||(k.postCountMetric("dppc_hoverMain"),na[V]=1),H=[n.position().left,n.position().top,n.width(),n.height()],V&&(l(b),h?h.refit().show():h=new ka,y.useClickZoom||(c=c||new ga),C=h.getWindowSize(),g()),I=!0,R?(n.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",w).bind("touchend.magnifier",
x),a(document).trigger("engaged.magnifier")):(A.acEnabled?O.unbind("mousemove.magnifier"):n.unbind("mousemove.magnifier"),a(document).trigger("engaged.magnifier").bind("mousemove.magnifier",w)),d)){var f=a("#zoomWindow");if(0<f.length)f.one("click.magnifier touchend.magnifier",function(a){x(!0)})}}function G(){y.useHoverZoom&&(R?n.bind("touchstart.magnifier touchmove.magnifier",B):A.acEnabled?v(n)&&O.bind("mousemove.magnifier",B):n.bind("mousemove.magnifier",B))}var r=this,O=n.offsetParent(),D={detailImageUrl:n.attr("data-old-hires"),
location:"over",locationElement:n,prelaod:"ready",zIndex:50,offsetInClickZoom:50};y=a.extend(D,y);y.adjustment=[10,0,-10,0];var h=null,c=null,F=null,H=null,C=null,J={"null":1,"":1,undefined:1},I=!1,U=!1,V=y.detailImageUrl,R=y.useHoverZoomIpad||0,u=0,na={},ga=function(){function b(a){var c=Math.round(Math.min(n.width(),h.rect.width/a));a=Math.round(Math.min(n.height(),h.rect.height/a));e.css({width:c,height:a});g=[c,a]}var c=this,g=[0,0],d=(h.detailSize&&h.detailSize[0]||5E8)/H[2],f=(h.detailSize&&
h.detailSize[1]||5E8)/H[3],d=f>d?f:d;a("#magnifierLens").remove();var e=a("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});y.generalImageUrls.zoomLensBackground&&e.css({backgroundImage:"url("+y.generalImageUrls.zoomLensBackground+")"});A.showMagnifierOnHover?p(e):e.css("cursor","pointer");c.updatePosition=function(){var a=[H[2]-g[0],H[3]-g[1]],h=0>=a[0]?.5:Math.max(0,Math.min(1,(F[0]-g[0]/2-H[0]-c.offset.left)/a[0])),b=0>=a[1]?.5:Math.max(0,Math.min(1,(F[1]-g[1]/2-H[1]-c.offset.top)/
a[1])),d=H[0]+Math.round(h*a[0]),a=H[1]+Math.round(b*a[1]);e.get(0).style.left=d+"px";e.get(0).style.top=a+"px";return[h,b]};c.destroy=function(){e.remove()};c.offset=n.offsetParent().offset();b(d);c.updatePosition();e.appendTo(n.parent());h.detailImage[0].complete||h.detailImage.load(function(){var a=h.detailImage.width()/H[2];b(a);c.updatePosition()})};ga.preload=function(){r.preload(y.generalImageUrls.lensBackgroundUrl)};var ka=function(){function h(){var c={};if("over"===y.location){var c=y.useClickZoom,
g={},e=a("#leftCol"),k=a("#centerCol"),p=a("#rightCol"),v=a("#hover-zoom-end"),m=a("#actionPanelContainer"),F=b.isjQueryObjDefined(e)?e.outerHeight():k.outerHeight();g.top=b.isjQueryObjDefined(e)?e.offset().top:k.offset().top;g.bottom=F+g.top;g.right=b.isjQueryObjDefined(p)?p.offset().left:m.offset().left;g.left=c?0:e.offset().left+e.outerWidth();b.isjQueryObjDefined(v)&&v.offset().top>g.bottom&&(g.bottom=v.offset().top);c=g}else"right"===y.location&&(c=n.offset(),c={left:c.left+n.outerWidth(),top:c.top,
right:c.left+n.outerWidth()+400,bottom:c.top+400});y.minHeightElement&&(c.bottom=Math.max(c.bottom,c.top+a(y.minHeightElement).outerHeight()));c.bottom=Math.min(c.bottom,a(q).scrollTop()+a(q).height());c.left+=f[0];c.top+=f[1];c.right+=f[2];c.bottom+=f[3];c.width=c.right-c.left;c.height=c.bottom-c.top;y.enhancedHoverOverlay&&b.isDefined(q.pageXOffset)&&(g=a(q).width(),c.width=g-c.left+q.pageXOffset-18,c.height-=14);l.css({left:c.left,top:c.top,width:c.width,height:c.height});d.rect=c;return d}function c(a){var h=
new Image;d.detailSize=[0,0];h.onload=function(){d.detailSize=[h.width,h.height];g()};h.src=a.attr("src");if(0<h.width&&0<h.height)d.detailSize=[h.width,h.height];else if(y.detailImageSize)d.detailSize=y.detailImageSize;else{a=e(h.src);var b=H[2]/H[3];a.SS||a.AA?(a=a.SS||a.AA,d.detailSize=[a,a]):a.SX?d.detailSize=[a.SX,Math.round(a.SX/b)]:a.SY?d.detailSize=[Math.round(a.SY*b),a.SY]:a.SL&&(d.detailSize=1<=b?[a.SL,Math.round(a.SL/b)]:[Math.round(a.SL*b),a.SL])}}var d=this,f=y.adjustment;a("#zoomWindow").remove();
var k={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:y.zIndex};y.enhancedHoverOverlay&&(k.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",k.border="1px solid #949494",k.borderColor="rgb(148,148,148)");var l=a("\x3cdiv id\x3d'zoomWindow' /\x3e").css(k);y.fadeMagnifier&&l.fadeIn(200);y.useClickZoom&&(P?l.css("cursor",'url("'+y.zoomOutIcon+'"), auto'):(l.css("cursor","-webkit-zoom-out"),l.css("cursor","-moz-zoom-out"),l.css("cursor","zoom-out")));d.updateImage=function(h){h=a("\x3cimg id\x3d'detailImg' src\x3d'"+
h+"'/\x3e").css("position","absolute");d.detailImage&&d.detailImage.remove();l.append(h);a(document).trigger("updated.magnifier");d.detailImage=h;c(d.detailImage)};d.refit=function(){h();c(d.detailImage);return d};y.fadeMagnifier?(d.show=function(){l.fadeIn(200);return d},d.hide=function(){l.fadeOut(200);return d}):(d.show=function(){l.show();return d},d.hide=function(){l.hide();return d});d.destroy=function(){l.remove();return d};d.getWindowSize=function(){return[d.rect.left,d.rect.top,d.rect.width,
d.rect.height]};d.updateImage(V);h();l.appendTo(document.body)},X=!1,ca,z=!1,Y;r.preload=function(c){c=a.makeArray(c);for(var h=c.length,b=0;b<h;b++)c[b]instanceof Array?r.preload(c[b]):"string"===typeof c[b]&&c[b]&&!J[c[b]]&&(J[c[b]]=new Image,J[c[b]].src=c[b])};r.changeImage=function(c,b){I&&x();V=b;n.attr("src",c);r.preload(c);H=[n.position().left,n.position().top,n.width(),n.height()];b&&("immediately"===y.preload?r.preload(b,!0):a(q).ready(function(){r.preload(b)}),h?h.updateImage(b):n.attr("data-old-hires",
b))};r.destroy=function(){A.acEnabled?O.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):n.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");a(document).unbind("mousemove.magnifier");c&&c.destroy();c=null;h&&h.destroy();h=null};r.detailImage=function(){return h.detailImage};r.suppressMagnifier=function(a){U=a};r.isEngaged=function(){return I};r.engageMagnifier=B;r.disengageMagnifier=x;n[0].complete?G():n.one("load",G);r.preload(n.attr("src"));
q.performance&&performance.now&&q.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(y.preload){var la=y.detailImageUrl,D=function(){r.preload(la,!0);y.useClickZoom||ga.preload()},aa=y.preload;aa.constructor!==Array&&(aa=[aa]);for(var t=0;t<aa.length;t++)if("immediately"===aa[t])D();else if(a(q)[aa[t]])a(q)[aa[t]](D);else a(q).bind(aa[t],D)}return r}function n(){if(A.useHoverZoom){var f={adjustment:[0,0,1,1],generalImageUrls:A.staticImages,location:"over",minHeightElement:"#imageBlock",
preload:"ready",zIndex:199,useHoverZoomIpad:A.useHoverZoomIpad,useHoverZoom:A.useHoverZoom,useClickZoom:A.useClickZoom,fadeMagnifier:A.fadeMagnifier,zoomOutIcon:A.staticImages.zoomOutCur,enhancedHoverOverlay:A.enhancedHoverOverlay||A.atfEnhancedHoverOverlay};D&&(D.destroy(),D=fa);var e=I.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");b.isjQueryObjDefined(e)?A.useClickZoom?(e.one("click.loadmagnifier touchstart.loadmagnifier",function(a){D=
new G(e,f);D.engageMagnifier(a,!0)}),P?e.css("cursor",'url("'+A.staticImages.zoomInCur+'"), auto'):(e.css("cursor","-webkit-zoom-in"),e.css("cursor","-moz-zoom-in"),e.css("cursor","zoom-in"))):D=new G(e,f):m.isEnabled&&d.logHoverZoomApplicability(a,m)}}var O,A,J,r,D,I,P=navigator.userAgent.match(/msie|trident/i);return function(a,b,d,f){O=this;A=a;J=b;m.refToModel=J;r=f;O.render=function(a,b,d,g,f,e){I=d;D&&(D.destroy(),D=fa)};O.update=function(a){};r.register("loadMagnifier",n);r.register("resize",
n)}});"use strict";u.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(f,a,b,k){function m(a,d,f){a=(a=f?f:b.getColorFromState(d.getState().hovered_variations,e))&&""!==a?a:e.defaultColor;n.dispatch("updateView",{type:"swatchHover",data:{color:a}});k.postCountMetric("swatchHover")}function d(a,d,f,p){a=(a=p?p:b.getColorFromState(d.getState().selected_variations,e))&&""!==a?a:e.defaultColor;a===G.getCurrentItem().color?"function"===typeof f&&f():(n.dispatch("updateSelection",
{type:"swatchClick",data:{color:a},onload:function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof q.markFeatureRender&&q.markFeatureRender("imageblock",a);f()}}),k.postCountMetric("swatchClick"))}var p,e,G,n;return function(a,b,k,r){p=this;e=a;G=b;n=r;f.on("image-block-twister-swatch-hover",m);f.on("image-block-twister-swatch-click",d);p.render=function(a,b,d,f,e){};p.update=function(a){}}});"use strict";u.when("A","jQuery","Airy","imageBlockUtils","ImageBlockLoader",
"postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(f,a,b,k,m,d,p){function e(c,h,b,d){!g.autoplayVideo||R||g.useChromelessVideoPlayer?!k.isjQueryObjDefined(c.find(".a-button-selected"))&&(b=v.getCurrentItem(),!d||g.prioritizeVideos||"chromeless-video"===b.type&&g.autoplayVideo)&&(d=k.getVideoHash(b.color,0,g),-1!==d&&(h+=0,l.dispatch("updateModel",{data:{index:0,thumbnailIndex:h,variant:d.variant,type:g.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),h=c.find(".item").get(h),
k.selectGivenThumbnail(a(h),c))):(k.selectGivenThumbnail(c.find("img:last"),c),k.fadeToThumbnail(c.find("img").length-1,L,c))}function G(a){var c=v.getCurrentItem().color;if(g.useChildVideos&&!g.colorToVideo[c]){var h=function(){if(a){g.colorToVideo[c]=a;var h={type:"updatedData",data:v.getCurrentItem()};l.dispatch("updateView",h)}};g.lazyLoadExperienceDisabled?h():u.when(k.rankedImagesReadyEvent(g.colorToAsin[c].asin)).execute(function(){h()})}}function n(a){if(!g.useChildVideos)return k.lazyLoadingRequired(v.getCurrentItem(),
v,g)?void 0:g.videos;if(g.colorToVideo[a])return g.colorToVideo[a];var c=g.colorToAsin[a];if(c&&c.asin){var h={};h.params={asin:c.asin,productGroupID:g.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:g.useChromelessVideoPlayer,isUDP:g.isUDP};g.isDPXFeatureEnabled||(h.success=function(a){G(a)},m.load("/gp/product/features/apparel-main-image/videos.html",h));return g.colorToVideo&&g.colorToVideo[a]}}function O(){E&&(E.hide(),x.parent().css("z-index",-1),B.hide())}function A(){l.dispatch("selectThumbnail",
k.useTabbedImmersiveView(g)?1:0)}function J(c,h,g,f){return b.embed({isShowFirstFrameWhenReadyEnabled:!0,parentElement:c[0],streamingUrls:h.url,swfUrl:g.swfUrl,foresterMetadataParams:g.foresterMetadataParams,backgroundColor:"transparent",flashParams:{wmode:"transparent"},experiments:{supportChromelessPlayback:!0},bindings:{canplay:function(){var a=k.isjQueryObjDefined(c.find("video"))?"HTML5":"FLASH";d.postCountMetric("dppc_chromelessVideo:"+a)},playing:function(){c.parent().css("z-index",8)},videounsupported:function(){A();
d.postCountMetric("dppc_chromelessVideo:VIDEO_UNSUPPORTED")},error:function(){A();d.postCountMetric("dppc_chromelessVideo:ERROR")},ended:function(){E.seek(0)}},cuePoints:[{values:h.durationSeconds-1,type:"position",callback:function(h,b,d){h=d.durationSeconds-d.playheadTimeSeconds;c.parent().css("background-color","white").find(".airy-renderer-container").fadeTo(1E3*h,.1,function(){c.parent().css({"background-color":"transparent","z-index":-1});A();a(this).show().css("opacity",1)})}}]})}function r(c){if("chromeful-video"===
c.type||"chromeless-video"===c.type){var b=k.getVideoHash(c.color,c.index,g);if(-1===b)return-1;if("chromeful-video"===c.type){c=c.thumbnailIndex+1;var d=L.width()/L.height(),e=parseInt(b.videoWidth,10),l=parseInt(b.videoHeight,10);k.updateAspectRatio(d,e,l,x);E?(E.show(),k.loadMediaIntoAiry(E,b,S,g.tabletWeb)):E=g.tabletWeb?F:k.createAiryInstanceForChromefulNotUseTabbedImmersiveView(x,b,S,null,g.autoplayVideo,L,B,w,c,g.useTabbedImmersiveView,C,H,M);b:if(k.useTabbedImmersiveView(g)){if(1<k.getVideosCount(v.getCurrentItem().color,
g)){if(k.isDefined(K)){B.show();break b}K=a('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(g.staticStrings.watchMoreVideos);B.find("#videoCaption").append(K);f.declarative.create(K,"videoIngressClick",h)}k.playVideoInImmersiveView(g,v.getCurrentItem().color)&&(f.declarative.create(x,"videoIngressClick",h),x.attr&&x.attr("data-ux-click",""),x.children().css("z-index","-1"),x.css("display","inline-block"))}else B.find("#videoCaption").text(g.staticStrings.playVideo),B.show();b=
E;g.autoplayVideo&&b&&!R&&(k.toggleVideoCaption(B),b.setVolume(0),b.show(),b.play(),R=!0)}else E?(E.show(),k.loadMediaIntoAiry(E,b,S,g.tabletWeb),E.play(),B.show()):(E=J(x,b,S))&&E.play()}}function D(c,b,l){var p=n(b);b=c;var v=k.isDefined(p)&&0<p.length&&g.alwaysIncludeVideo?1:0;k.isDefined(p)&&0<p.length&&!g.alwaysIncludeVideo&&c===g.maxAlts&&d.postCountMetric("IBVideoDrop");v&&c===g.maxAlts&&(w.find(".item:last").remove(),c--);k.isDefined(p)&&(a.each(p,function(b,f){if(c<g.maxAlts){var e=g.useChromelessVideoPlayer?
"chromeless-video":"chromeful-video",l={type:e,index:b,thumbnailIndex:c,variant:f.variant};h={type:"video-ingress",index:b,thumbnailIndex:c,variant:f.variant};k.useTabbedImmersiveView(g)&&("chromeful-video"===e&&(ba+=" videoBlockIngress  videoBlockDarkIngress",f.thumb=f.thumb.replace("_PKmb-play-button-overlay-thumb","")),g.altsOnLeft||(ba+=" a-align-top"));k.createThumbnail(l,f.thumb,w,ba);if(2===g.dp60VideoPosition){var v=w,l=g.dp60VideoPosition;if(0!==l){var m=v.children(".imageThumbnail"),v=v.children(".videoBlockIngress");
m&&v&&m[l-1]&&a(m[l-1]).before(v[0])}}k.useTabbedImmersiveView(g)&&(I(w.find(".videoBlockIngress img"),g.videoIngressATFSlateThumbURL),l=1<p.length?"multiple-videos":"one-video",(m=1<p.length?p.length+" "+g.staticStrings.multipleVideos:g.staticStrings.singleVideo)&&w.find(".videoBlockIngress").append(w.find("#videoCount_template").clone().text(m).attr("id","videoCount")).addClass(l));l=d.buildNexusMetric("ib.thumbnailImpression",c+1,f.mediaObjectId,f.groupType,C,H,M,T);d.emitNexusMetric(l);l=d.buildNexusMetric("ib.thumbnailRender",
c+1,f.mediaObjectId,f.groupType,C,H,M,T);d.emitNexusMetric(l);V||(V=!0,d.postCountMetric("chromeless-video"===e?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"));c++}if(k.useTabbedImmersiveView(g))return!1}),e(w,b,c,l),g.imageBlockRenderingStartTime&&d.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",f.now()-g.imageBlockRenderingStartTime));return c}function I(a,c){var b=a.attr("src");if(b&&c){a.attr("src",c);var h=new Image;h.onload=function(c){a.attr("src",b)};h.src=
b}}function P(a){E&&E.pause();a.data=h;a.clickTimeStamp=a.$event.timeStamp;var c="a"===a.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";l.dispatch("imageClick",a);d.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp);a=d.buildNexusMetric("ib.thumbnailClick",a.data.thumbnailIndex+1,g.videos[0].mediaObjectId,g.videos[0].groupType,C,H,M,T);d.emitNexusMetric(a);d.postCountMetric(c)}function N(a){F=a.player;F.hide=function(){F.pause();f.$("#main-video-container").find(".vse-player-container").hide()};
F.show=function(){f.$("#main-video-container").find(".vse-player-container").show();F.play()};F.getMediaSourceInfo=function(){return k.getMediaSourceInfo()}}var y,g,v,l,w,x,B,L,K,E,S,h,c,F,H,C,M,T,U,V=!1,R=!1,ba="videoThumbnail";return function(b,e,m,n){y=this;g=b;v=e;l=n;S=g.airyConfig;M=g.contentWeblab&&g.contentWeblab+":"+g.contentWeblabTreatment;g.colorToVideo={};g.colorToVideo[g.landingAsinColor]=g.colorToVideo[g.defaultColor]=g.videos;g.tabletWeb?(U="tablet",T="applicationType.ImageBlock.vse_ib_tablet_web"):
f.capabilities.tablet?(U="tablet",f.capabilities.isAmazonApp&&(T="applicationType.ImageBlock.vse_ib_tablet_app")):(U="desktop",T="desktop_web.ImageBlock.vse_ib_iv");y.render=function(b,h,d,e,l,m){O();w=e;x=l.find("#main-video-container");B=x.parent().find("#video-canvas-caption");L=a("#main-image-container");C=q.location.href;d=v.getCurrentItem().color;!0===m?H=g.mediaAsin:(H=g.colorToAsin[d]&&g.colorToAsin[d].asin,H=k.isDefined(H)?H:g.mediaAsin);g.useChromelessVideoPlayer||x.addClass("chromeful-container");
c=D(h,b,m);r(v.getCurrentItem());k.useTabbedImmersiveView(g)&&f.declarative("videoIngressClick",["click"],P);d=v.getCurrentItem().color;b=k.getVideoHash(d,0,g);-1!==b&&g.tabletWeb&&(b=k.getNilgiriServiceAjaxRequest(g,d,b),p.get(f,"#main-video-container",b,function(){f.$("#main-video-container").find(".vse-player-container").hide()},function(){f.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));return c};y.update=function(a){var b=a.data;"ingress"===b.type||k.lazyLoadingRequired(b,
v,g)||O();if("swatchHover"===a.type)b.color===v.getCurrentItem().color?r(v.getCurrentItem()):a.captured||k.lazyLoadingRequired(b,v,g)&&!k.lazyLoadOnHoverEnabled(g)&&r(v.getCurrentItem());else if("chromeful-video"===b.type||"chromeless-video"===b.type){var e=k.getVideoHash(b.color,b.index,g);if("mouseenter"===a.type&&(d.postCountMetric("dpcc_videoThumbHovered_"+(b.thumbnailIndex+1)+"_"+c),"chromeless-video"===b.type)){var p=d.buildNexusMetric("ib.thumbnailHover",b.thumbnailIndex+1,e.mediaObjectId,
e.groupType,C,H,M,T);d.emitNexusMetric(p)}r(b);g.usePeekHover&&"click"!==a.type||!f.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")||(k.selectGivenThumbnail(a.$declarativeParent,w),"click"===a.type&&(e=d.buildNexusMetric("ib.thumbnailClick",b.thumbnailIndex+1,e.mediaObjectId,e.groupType,C,H,M,T),(!k.useTabbedImmersiveView(g)&&"chromeless-video"===b.type||"tablet"==U)&&d.emitNexusMetric(e),k.useTabbedImmersiveView(g)&&(d.emitNexusMetric(e),d.postCountMetric("dpcc_videoThumbClicked_"+(b.thumbnailIndex+
1)+"_"+c),h.action="videoIngressClick",h.clickTimeStamp=a.$event.timeStamp,h.$event=a.$event,h.$currentTarget=a.$currentTarget,l.dispatch("videoIngressClick",h),d.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp))))}};if(g.isDPXFeatureEnabled)f.on("triggerVideoAjax",G);f.on("vsePlayer-imageblock_tablet",N)}});"use strict";u.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",
function(f,a,b,k,m,d,p,e){function G(a){return a.hiRes||a.large||a.main[a.main.length-1]}function n(){t.find("#ivTitle").click(function(){aa.hide()})}function O(){Q=Pa?{type:"360-spin"}:Y.getCurrentItem()}function A(){var a=t.find("#ivStage"),c=aa.$container.find(".a-popover-wrapper"),b=c.find(".a-popover-inner"),c=c.height()-e.getDimension(b,"padding-top")-e.getDimension(b,"padding-bottom");t.css("height",c);var b=t.find("#ivTitle").outerHeight(!0),h=t.find("#ivVariationSelection").outerHeight(!0),
d=t.find("#ivMediaSelection").outerHeight(!0),g=t.find("#ivThumbs"),f=e.getDimension(g,"margin-top")+e.getDimension(g,"margin-bottom");g.css("height",c-b-h-d-f);t.find("#ivLargeImage").css("height",c);a.css("width",t.width()-e.getDimension(t,"padding-left")-e.getDimension(t,"padding-right")-t.find("#ivThumbColumn").width()-e.getDimension(a,"margin-left")-e.getDimension(a,"margin-right"))}function J(){t.find("#ivMediaSelect").change(function(){var c=a(this).val();"all"===c?(t.find("#ivVideoList").hide(),
t.find("#ivThumbs").show(),t.find(".ivThumbVideo").show(),"chromeful-video"===Q.type&&t.find("#ivVideo_"+Q.index).click()):"images"===c?(t.find("#ivVideoList").hide(),t.find("#ivThumbs").show(),t.find(".ivThumbVideo").hide(),"chromeful-video"===Q.type&&(0===da&&0===Z?t.find("#iv360").click():0===da?t.find("#ivHeroImage_0").click():t.find("#ivImage_0").click())):"videos"===c&&(t.find("#ivVideoList").show(),t.find("#ivThumbs").hide(),"chromeful-video"!==Q.type?t.find("#ivVideoList_0").click():t.find("#ivVideoList_"+
Q.index).click())})}function r(){var a=t.find("#ivStage").find("#ivLargeImage"),c=a.width(),b=a.height(),h=a.find(".fullscreen");h.removeAttr("style");var d=h.width(),g=h.height();0<h.length&&(h[0].naturalWidth&&(d=h[0].naturalWidth),h[0].naturalHeight&&(g=h[0].naturalHeight));a.css("cursor","auto");var d=0===d?1:d,g=0===g?1:g,f=Math.min(c/d,b/g),e=g*f,l=d*f;1>f?(Qa?a.css("cursor","url('"+z.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor",
"zoom-in")),za=!0):za=!1;d=Math.min(l,d);g=Math.min(e-20,g);h.css({"margin-top":(b-g)/2,"margin-left":(c-d)/2,height:g,width:d});a.css("visibility","visible");Aa=!1}function D(a){var c=t.find("#ivLargeImage");c.css("visibility","hidden");c.empty();e.animateStageIn(c);c.append(a);r()}function I(){ea&&ea.pause();t.find("#ivLarge360").css("display","none");t.find("#ivLargeVideo").css("display","none");t.find("#ivLargeImage").css("display","none");w()}function P(c){I();t.find("#ivLargeImage").css("display",
"block");var h;"hero-image"===c?b.isDefined(ia)&&(h=G(ia[Q.index])):b.isDefined(ja)&&(h=G(ja[Q.index]));if(b.isDefined(h)){t.find(".fullscreen").remove();var d=a("\x3cimg\x3e").attr("src",h).addClass("fullscreen"),g=t.find("#ivLargeImage");e.animateStageOut(g,function(){d.load(function(){D(d)});if(d[0].complete)D(d);else{g.empty();var c=(g.height()-104)/2,b=(g.width()-80)/2;a("\x3cimg\x3e").attr("src",z.staticImages.spinner).css({position:"relative",top:c+"px",left:b+"px"}).appendTo(g)}})}}function N(){var a=
parseInt(Q.index,10)+1;a>=ha.length||t.find("#ivVideo_"+a).click()}function y(){var a;b.isDefined(ha)&&(a=ha[Q.index]);if(b.isDefined(a)){I();var c=t.find("#ivLargeVideo").css("display","block");ea?(ea.isDetached()&&ea.attach(c[0]),b.loadMediaIntoAiry(ea,a,wa,z.tabletWeb),ea.show()):(ea=b.createAiryInstanceForChromeful(c,a,wa,"ImmersiveView"),wa.enableContinuousPlay&&ea.bind("ended",N));ea.play({isAsync:!0})}}function g(){O();var a;a="hero-image"===Q.type?t.find("#ivHeroImage_"+Q.index):"image"===
Q.type?t.find("#ivImage_"+Q.index):"chromeful-video"===Q.type||"chromeless-video"===Q.type?t.find("#ivVideo_"+Q.index):"360-spin"===Q.type?t.find("#iv360"):b.isDefined(ia)?t.find("#ivHeroImage_"+Q.index):t.find("#ivImage_"+Q.index);b.isjQueryObjDefined(a)||(a=t.find("#ivImage_0"));v(a)}function v(a){t.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")?(Q.type="chromeful-video",Q.index=a.attr("id").split("_")[1],y()):a.hasClass("ivHeroImage")?(Q.type="hero-image",
Q.index=a.attr("id").split("_")[1],P(Q.type)):a.hasClass("iv360Image")?(Q.type="360-spin",Q.index=0,l()):(Q.type="image",Q.index=a.attr("id").split("_")[1],P(Q.type))}function l(){I();t.find("#ivLarge360").css("display","block");E();var a=t.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});e.animateStageIn(a)},200);B();m.postCountMetric("dppc_click360");ta=Date.now()}function w(){0<ta&&(x("dppc_duration360",Date.now()-ta),ta=0)}function x(a,c){q.ue&&q.ue.count(a,c)}
function B(){if(0<qa){var a=t.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function L(c,b){if(qa<c.length){var h=a("\x3cimg /\x3e").css({display:"block",width:6*oa+"px",height:sa+"px"});h.hide();b.append(h);h.get(0).onload=function(){b.closest(document.documentElement).length&&(qa++,1===qa&&(B(),0<ta&&x("dppc_loadTime360",Date.now()-ta)),0<Ga&&x("dppc_perSpriteloadTime360",Date.now()-Ga),t.find("#iv360Spinner").hide(),h.show(),xa=5*W.imageLocations[Math.floor(ya/
W.imageLocations[0].length)][ya%W.imageLocations[0].length],L(c,b))};h.attr("src",c[qa].replace(/(\._SP)\d+(,)\d+/,"$1"+ua+"$2"+va));Ga=Date.now()}}function K(a){if(b.isDefined(W.spriteWidthSizes)&&0<W.spriteWidthSizes.length){var c=W.spriteWidthSizes,h=c.length,d=c[0],g=c[h-1];if(a<=d)return d;if(a>g)return g;for(d=0;d<h;d++)if(a>c[d]&&a<=c[d+1])return c[d+1]}else return a}function E(){var c=t.find("#ivLarge360");c.children("#image-360-sprites").length||(c.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),
c.css({"margin-left":0,"margin-top":0,width:c.parent().width(),height:c.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",z.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(c),Ha=!0,S())}function S(){if(b.isDefined(W.spriteURLs)&&b.isDefined(t)&&Ha&&!Ia){var d=t.find("#ivLarge360"),
g=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});b.isDefined(W.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",W.staticImages.hint360).appendTo(g);a("\x3cdiv\x3e").css({"text-align":"center"}).text(z.staticStrings.dragToSpin).appendTo(g);g.appendTo(d);var g=W.imageWidth,f=W.imageHeight,e=d.parent().width(),l=d.parent().height(),k=0,p=0;g/f>e/l?(ua=K(e),va=Math.round(f/
g*ua),oa=Math.ceil(e),sa=Math.ceil(va/ua*e),p=(l-sa)/2):(va=K(l),ua=Math.round(g/f*va),sa=Math.ceil(l),oa=Math.ceil(ua/va*l),k=(e-oa)/2);d.css({"margin-left":k,"margin-top":p,width:oa+"px",height:sa+"px",overflow:"hidden",position:"relative"});d.children("#image-360-sprites").css("width",6*oa+"px");L(W.spriteURLs,t.find("#image-360-sprites"),0);g=t.find("#ivLarge360");g.bind("mousedown",H);g.bind("touchstart",h);g.bind("touchmove",c);g.bind("touchend",F);a(document).bind("mousemove",C);a(document).bind("mouseup",
M);b.isDefined(z.staticImages.grab)&&d.css("cursor","url('"+z.staticImages.grab+"'), auto");Ia=!0}}function h(a){Ba=!0;Ja=a.originalEvent.targetTouches[0].clientX}function c(a){Ba&&(T(a.originalEvent.targetTouches[0].clientX-Ja),Ja=a.originalEvent.targetTouches[0].clientX)}function F(a){Ba&&(Ba=!1)}function H(a){Ca=!0;Ka=a.originalEvent.clientX;b.isDefined(z.staticImages.grabbing)&&(a=t.find("#ivLarge360"),a.css("cursor","url('"+z.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor",
"url('"+z.staticImages.grabbing+"'), auto"));return!1}function C(a){Ca&&(T(a.originalEvent.clientX-Ka),Ka=a.originalEvent.clientX)}function M(a){Ca&&(Ca=!1,b.isDefined(z.staticImages.grab)&&(a=t.find("#ivLarge360"),a.css("cursor","url('"+z.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function T(a){for(a=xa-=a/oa*180;0>a;)a+=360;for(;360<a;)a-=360;xa=a;var c;a=360;for(var h=0;h<qa;h++)for(var d=0;d<W.imageLocations[h].length;d++){var g=Math.abs(xa-5*W.imageLocations[h][d]);
g<a&&(a=g,c=h*W.imageLocations[0].length+d)}c!==ya&&(a=Math.floor(c/W.imageLocations[0].length),a!==Math.floor(ya/W.imageLocations[0].length)&&(b.isDefined(La)||(La=document.createElement("canvas").getContext("2d")),h=t.find("#image-360-sprites").children(),La.drawImage(h[a],0,0)),a=t.find(".iv360Hint").not(".iv360HintFaded"),b.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));ya=c;a=c%W.imageLocations[0].length*-1*oa;c=-1*Math.floor(c/W.imageLocations[0].length)*sa;h=t.find("#ivLarge360").children("#image-360-sprites");
h.css("-webkit-transform","translate3d("+a+"px, "+c+"px, 0)");h.css("transform","translate3d("+a+"px, "+c+"px, 0)")}function U(){t.delegate(".ivThumb","click",function(){var c=a(this);v(c)});t.delegate(".ivThumbVideoListOuter","click",function(){t.find(".ivThumbVideoListOuter").removeClass("selected");var c=a(this);c.addClass("selected");Q.type="chromeful-video";Q.index=c.attr("id").split("_")[1];y()})}function V(){ea&&!ea.isDetached()&&(wa.volume=ea.getVolume(),ea.detach(),!document.all||q.atob||
document.addEventListener||(ea=null));t.find("#ivLargeImage").empty();w()}function R(a,c){return 0<c?c/2:Math.min(0,Math.max(c,a))}function ba(c){var b=ra.left-(c.pageX-Da[0])*Ea;f.capabilities.rtl&&(b=ra.left-(a(q).width()-c.pageX-Da[0])*Ea);c=ra.top-(c.pageY-Da[1])*Ea;b=R(b,Fa.left);c=R(c,Fa.top);t.find(".fullscreen").css({left:b,top:c})}function na(){t.delegate("#ivLargeImage","click",function(a){if(Aa)r();else if(za){t.find(".fullscreen").removeAttr("style");if(za){var c=t.find("#ivLargeImage"),
b=c.find(".fullscreen");Qa?c.css("cursor","url('"+z.staticImages.zoomOut+"'), auto"):(c.css("cursor","-webkit-zoom-out"),c.css("cursor","-moz-zoom-out"),c.css("cursor","zoom-out"));Aa=!0;var h=t.find("#ivLargeImage");Fa.left=h.width()-b.width();Fa.top=h.height()-b.height();var h=c.height()/2,d=c.width()/2;Da=[c.offset().left+d,c.offset().top+h];ra.top=h-b.height()/2;ra.left=d-b.width()/2;b.css({position:"relative",left:ra.left,top:ra.top});Ea=Math.max(b.height()/c.height(),b.width()/c.width())}ba(a)}});
t.delegate("#ivLargeImage","mousemove",function(a){Aa&&ba(a)})}function ga(c){if(b.isImmersiveViewEnabled(z,Y.getCurrentItem().color))if(Ma){var h=c.$event.originalEvent;h.acknowledge&&h.acknowledge(c.$currentTarget[0]);Pa=b.isDefined(c)&&"button-360-click"===c.action;d.isEnabled&&p.logImmersiveViewRequestServed(d);m.postCountMetric("dppc_immersiveViewOpened");if(b.isDefined(aa))aa.show();else{c=a("#auiImmersiveViewDiv");var h=a(q).height()-150,g=a(q).width()-75;aa=Ma.create(c,{name:"immersiveView",
activate:"onclick",width:g,height:h,popoverLabel:"ImmersiveView",hideHeader:!0});c.click()}if(Na){t=a("#ivMain");c=Y.getCurrentItem().color;ja=z.colorImages[c];ia=z.heroImage[c];ha=z.useChildVideos?z.colorToVideo[c]:z.videos;Oa=X()&&z.spin360ColorEnabled[c];W=X()?z.spin360ColorData[c]:fa;O();ma=Z=pa=da=0;b.isDefined(ia)&&(Z=ia.length);b.isDefined(ja)&&(da=ja.length);b.isDefined(ha)&&(pa=ha.length);Oa&&(ma=1);e.populateTitle(t.find("#ivTitle"),45,z);e.populateVariationSelection(t.find("#ivVariationSelection"));
c=t.find("#ivMediaSelect");0===da+ma||0===pa?(c.parent().hide(),t.find("#ivThumbs").addClass("noMediaSelection")):(c.empty(),a("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(z.staticStrings.allMedia+" ("+(Z+da+ma+pa)+")").appendTo(c),a("\x3coption/\x3e").attr("value","images").text(z.staticStrings.images+" ("+(Z+da+ma)+")").appendTo(c),a("\x3coption/\x3e").attr("value","videos").text(z.staticStrings.videos+" ("+pa+")").appendTo(c),c.parent().show(),c.val("all"));c=t.find("#ivThumbs");
c.find(".ivRow").not(".placeholder").remove();for(var h=Z+da+pa+ma,l=g=0;g<h;)for(var k=c.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(c),v=0;3>v&&g<h;v++,g++,l++)if(l<Z){var n=ia[g].thumb,F=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+g).appendTo(k);F.find(".ivThumbImage").css("background",'url("'+e.getResizedThumbnailURL(n)+'") center no-repeat')}else if(l>=Z&&l<da+Z)n=ja[g-Z].thumb,F=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id",
"ivImage_"+(g-Z)).appendTo(k),F.find(".ivThumbImage").css("background",'url("'+e.getResizedThumbnailURL(n)+'") center no-repeat');else if(l>=Z+da&&l<da+Z+ma)F=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(k),F.find(".ivThumbImage").css("background",'url("'+(b.isDefined(z.staticImages.icon360)?e.getResizedThumbnailURL(z.staticImages.icon360,!0):"")+'") center no-repeat');else if(n=ha[g-da-Z-ma],F=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id",
"ivVideo_"+(g-da-Z-ma)).appendTo(k),F.find(".ivThumbImage").css("background",'url("'+n.thumbUrl+'") center no-repeat'),b.isDefined(n)){var w={position:"triggerTop"},x=t.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");x.find(".ivVideoPopoverTitle").text(n.title);x.find(".ivVideoPopoverDuration").text(n.durationTimestamp);w.inlineContent=x[0];f.declarative.create(F,"a-tooltip",w)}c=t.find("#ivVideoList");c.find(".ivThumbVideoListOuter").not(".placeholder").remove();
h=c.find(".placeholder");for(g=0;g<pa;g++)l=ha[g],k=h.clone().removeClass("placeholder").appendTo(c),k.attr("id","ivVideoList_"+g),k.find(".ivThumbImage").css("background",'url("'+l.thumbUrl+'") center no-repeat'),k.find(".ivThumbTitle").text(l.title),k.find(".ivThumbDuration").text(l.durationTimestamp);t.find("#ivLarge360").empty();qa=0;Ia=Ha=!1;wa=z.airyConfig;Na=!1;Ra()}}else q.performance&&performance.now&&q.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||
0)+1);else m.postCountMetric("immersiveViewNotExistsClickCount")}function ka(a){var c=z.colorToAsin[a],h={},d=500;if(c&&c.asin){h.params={asin:c.asin};var g="360"+c.asin,f=Date.now();h.success=function(c){x("dppc_asyncRequestTime360",Date.now()-f);c&&b.isDefined(c.spin360.spin360Model)?(b.ajaxState(g,"success"),z.spin360ColorData[a]=c.spin360.spin360Model,a===Y.getCurrentItem().color&&(W=z.spin360ColorData[a],S())):h.error()};h.error=function(){m.postCountMetric("dppc_asyncFailed360");x("dppc_asyncRequestTime360",
Date.now()-f);d*=2;16E3>=d?setTimeout(function(){f=Date.now();k.load("/gp/product/features/apparel-main-image/360.html",h)},d):b.ajaxState(g,"fail")};b.ajaxState(g)&&"fail"!==b.ajaxState(g)||(k.load("/gp/product/features/apparel-main-image/360.html",h),b.ajaxState(g,"sent"))}}function X(){return b.isDefined(z.spin360ConfigEnabled)&&z.spin360ConfigEnabled}var ca,z,Y,la,aa,t,ia,ja,ha,Z,da,pa,ma,Q,ea,wa,W,Oa,oa,sa,va,ua,Ka,Ja,Pa=!1,Ha=!1,Ia=!1,xa=0,ya=0,ta=0,Ga=0,Ca=!1,Ba=!1,qa=0,La,Qa=navigator.userAgent.match(/msie|trident/i),
Na=!0,Aa=!1,za=!1,Fa={},ra={},Ea,Da,Ma;u.when("a-modal").execute(function(a){Ma=a});var Ra=f.once(function(){J();U();na();f.on("a:popover:afterUpdatePosition:immersiveView",A);f.on("a:popover:afterShow:immersiveView",g);f.on("a:popover:afterHide:immersiveView",V);n()});return function(c,h,g,l){ca=this;z=c;Y=h;d.refToModel=Y;la=l;X()&&(z.spin360ColorData[z.landingAsinColor]=z.spin360ColorData[z.defaultColor],z.spin360ColorEnabled[z.landingAsinColor]=z.spin360ColorEnabled[z.defaultColor]);b.isDefined(z.staticImages.icon360)&&
a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",e.addStyleCodeToURL(z.staticImages.icon360,"_FMpng_RI_"));ca.render=function(a,c,h,d,g,e){Na=!0;X()&&z.spin360ColorEnabled[a]&&!b.isDefined(z.spin360ColorData[a])&&(z.spin360ColorData[a]={},ka(a));b.isImmersiveViewEnabled(z,Y.getCurrentItem().color)&&X()&&z.spin360ColorEnabled[a]&&(c===z.maxAlts&&(a=d.find(".item.imageThumbnail"),h=d.find(".item.videoThumbnail"),b.isDefined(h)&&1<h.length?h.last().remove():a.last().remove(),
c--),a=d.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),f.declarative.create(a,"button-360-click"),d.append(a),c++,m.postCountMetric("dppc_display360"));return c};ca.update=function(a){};b.isImmersiveViewEnabled(z,Y.getCurrentItem().color)||b.addTag("immersiveViewNotAvailable");la.register("imageClick",ga);la.register("button360Click",ga)}});"use strict";u.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric",
"postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(f,a,b,k,m,d,p){function e(){var b=J.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),d=b.find(".a-popover-inner"),b=b.height()-p.getDimension(d,"padding-top")-p.getDimension(d,"padding-bottom");a("#iv-tab-view-container").css("height",b);I=a("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==a(this).css("display")}).length;1<I?(a("#iv-tab-view-container ul.iv-tab-views li").parent().show(),
d=a("#iv-tab-view-container ul.iv-tab-views li").parent().height(),b-=d):a("#iv-tab-view-container ul.iv-tab-views li").parent().hide();a("#iv-tab-view-container .iv-tab-content").css("height",b);f.trigger("dp:image-block:immersive-view:resize")}function G(){f.trigger("dp:image-block:immersive-view:reset")}function n(g){if(b.isImmersiveViewEnabled(A,J.getCurrentItem().color))if(N){var e=g.$event.originalEvent;e.acknowledge&&e.acknowledge(g.$currentTarget[0]);m.isEnabled&&d.logImmersiveViewRequestServed(m);
k.postCountMetric("dppc_immersiveViewOpened");b.isDefined(g)&&("button-360-click"===g.action?a("#iv360TabHeading").click():"videoIngressClick"===g.action?(P=g.clickTimeStamp,a("#ivVideosTabHeading").click()):"showroomIngressClick"===g.action?(P=g.clickTimeStamp,a("#ivShowroomTabHeading").click()):a("#ivImagesTabHeading").click());e=J.getImmersiveViewModalInstance();if(b.isDefined(e))e.show();else{g=a("#auiImmersiveViewDiv");var e=Math.min(Math.max(a(q).height()-150,540),1080),p=Math.min(Math.max(a(q).width()-
75,990),1980),e=N.create(g,{name:"immersiveView",activate:"onclick",width:p,height:e,popoverLabel:"ImmersiveView",hideHeader:!0});J.setImmersiveViewModalInstance(e);g.click()}D&&(D=!1,y(),f.trigger("dp:image-block:immersive-view:init"))}else q.performance&&performance.now&&q.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else k.postCountMetric("immersiveViewNotExistsClickCount")}var O,A,J,r,D=!0,I=0,P,N;u.when("a-modal").execute(function(a){N=
a});var y=f.once(function(){f.on("a:popover:afterUpdatePosition:immersiveView",e);f.on("a:popover:afterShow:immersiveView",e);f.on("a:popover:afterHide:immersiveView",G)}),g=f.once(function(){var b=a("#iv-tab-view-container ul.iv-tab-views li");b.bind("click",function(d){var g=b.filter(".iv-active");g.attr("id")!==a(this).attr("id")&&f.trigger("dp:ivTabs:"+g.find("a").attr("data-iv-tab-view")+":deselect",d);b.removeClass("iv-active");a(this).addClass("iv-active");a("#iv-tab-view-container .iv-tab-content").hide();
g=a(this).find("a").attr("data-iv-tab-view");a("#"+g).show();"ivVideosTab"===g&&(d.clickTimeStamp=P||d.timeStamp);f.trigger("dp:ivTabs:"+g+":select",d);k.postCountMetric("dppc_"+g);return!1})});return function(a,d,e,f){O=this;A=a;J=d;m.refToModel=J;r=f;O.render=function(a,b,d,g,e,h){k.postCountMetric("dpcc_altThumbs_"+b);D=!0};O.update=function(a){};O.getTitle=function(){};O.getVariationSelectionInfo=function(){};g();b.isImmersiveViewEnabled(A,J.getCurrentItem().color)||b.addTag("immersiveViewNotAvailable");
r.register("imageClick",n);r.register("button360Click",n);b.useTabbedImmersiveView(A)&&(r.register("videoIngressClick",n),r.register("showroomIngressClick",n))}});"use strict";u.when("A").register("ImageBlockLoader",function(f){return{load:function(a,b){b=b||{};b.timeout=b.timeout||4E3;f.ajax(a,b)}}});"use strict";u.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(f,
a,b,k,m,d,p,e,G){function n(a){return null!==a&&"undefined"!==typeof a}function O(b){var c=0;a.each(b,function(a,b){var h=parseInt(b[1],10);h>c&&(c=h)});return c}function A(b){var c=0;a.each(b,function(a,b){var h=parseInt(b[0],10);h>c&&(c=h)});return c}function u(a,c,b){c=c.width();if(b.naturalMainImageSize)return c;a=O(a);0<a&&(c=Math.min(c,a));return c}function r(a,c,b){c=c.height();if(b.naturalMainImageSize)return c;a=A(a);0<a&&(c=Math.min(c,a));return c}function D(b){var c;a.each(b,function(a,
b){n(c)||(c=b[1]/b[0])});return c||1}function I(h,c,d,g,e,f,l,p,m,n,v,w,x){var G=a.extend({},d.foresterMetadataParams);null!==g&&(G.method+="."+g);var r=[];c.disabledViewIds&&(r=c.disabledViewIds);return b.embed({parentElement:h[0],streamingUrls:c.url,contentId:c.mediaObjectId,contentMinAge:Number(c.minimumAge||"")||0,contentTitle:c.title,swfUrl:d.swfUrl,foresterMetadataParams:G,backgroundColor:"black",flashParams:{wmode:"transparent"},slateImages:{preloadSlate:c.slateUrl,postMediaSlate:c.slateUrl},
videoAds:d.videoAds,bindings:{play:function(){if("ImmersiveView"===g)B||(B=!0,k.postCountMetric("dppc_chromefulVideoPlayedIV"));else if(L||(L=!0,k.postCountMetric("dppc_chromefulVideoPlayedPV")),!n){var a=k.buildNexusMetric("ib.thumbnailClick",m,c.mediaObjectId,c.groupType,v,w,x);k.emitNexusMetric(a)}}},cuePoints:[{values:c.durationSeconds-1,type:"position",callback:function(a,c,b){e&&(P(0,f,p),N(l))}}],disabledViewIds:r})}function P(a,c,b){c.fadeTo(500,0,function(){y(a,b);c.fadeTo(500,1)})}function N(a){a&&
a.toggle()}function y(b,c){var d=c.find("img");n(d[b])&&a(d[b]).click()}function g(a,c){S[a]=c?c:S[a];return S[a]}function v(b,c,d){d=d||E;d=d.colorImages;if(1>d.length||!n(d[b])||!n(c))return-1;var g=-1;a.each(d[b],function(a,b){b.variant===c&&(g=a)});return g}function l(b,c,d){d=d||E;d=d.colorImages;return!(n(d)&&n(d[b])&&n(d[b][c])&&n(d[b][c].main))||1>a.map(d[b][c].main,function(a,c){return c}).length?-1:d[b][c]}function w(a,c,b,d){d.parent().css("z-index",2);0!==b&&0!==c&&(c/=b,a>c?d.css("width",
c/a*100+"%"):d.css("height",a/c*100+"%"))}function x(b,c){var d;if(d=b.useIV)d=b.colorImages&&b.colorImages[c]&&0<b.colorImages[c].length?!0:!1;p.isEnabled&&(p.IVApplicaple=d,e.logImmersiveViewApplicability(a,p));return d}var B,L,K,E=a.extend(!0,{},m,d),S={};return{isDefined:n,isDefinedAndEmpty:function(a){return n(a)&&"object"===typeof a&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return n(a)?"object"===typeof a&&0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return n(a)?
"object"===typeof a&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:D,getMaxHeightOfMainImage:r,getMaxWidthOfMainImage:u,getMaxDimensionsOfMainImage:function(a,c,b){if(b.acEnabled)return[c.height(),c.width()];var d=r(a,c,b);c=u(a,c,b);a=D(a);b=c/a;c=Math.min(c,d*a);d=Math.min(d,b);return[d,c]},getContainerHeight:function(a,c,b){var d=a.get(0);a=0;if(n(d)){a=d.offsetWidth/c;a=Math.min(a,b);var g;c=E.mainImageHeightPartitions;b=E.mainImageMaxSizes;if(n(b)&&
n(c)){for(var e=0,f=q.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,d=0;d<c.length;d++)f>c[d]&&(e=d+1);b.length>=e&&(g=b[e])}n(g)&&(a=Math.min(g[1],a))}return a},getColorFromState:function(b,c){if(b){c=c||E;var d="";a.each(c.visualDimensions,function(a,c){b[c]&&(d+=" "+b[c])});return d&&d.substring(1)}},createThumbnail:function(a,c,b,d){var g=b.find(".template").clone().removeClass("template").addClass("item"),e=document.createElement("img");e.src=c;g.find(".placeHolder").replaceWith(e);
(c=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===c&&g.addClass("heroImageThumbnail");n(d)&&g.addClass(d);f.declarative.create(g,"thumb-action",a);g.attr&&g.attr("data-ux-click","");b.append(g)},selectGivenThumbnail:function(a,c){var b=a.find(".a-button");c.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");b.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(a,c,b,d,g,e,f,k){I(a,c,b,d,g,e,f,k,0,1,"","","")},createAiryInstanceForChromefulNotUseTabbedImmersiveView:I,
loadMediaIntoAiry:function(a,c,b,d){a&&a.getMediaSourceInfo()!==c.url&&(d?a.loadMedia?(K={mediaSourceInfo:[c.url],contentId:c.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(K)):a.play({videoUrl:c.url,mimeType:"video/mp4",contentId:c.mediaObjectId,refTag:"vse_ib_tablet_web"}):a.loadMedia?a.loadMedia({mediaSourceInfo:c.url,contentId:c.mediaObjectId,contentMinAge:Number(c.minimumAge||"")||0,contentTitle:c.title,slateImages:{preloadSlate:c.slateUrl,postMediaSlate:c.slateUrl}}):a.play({videoUrl:c.url,
mimeType:"video/mp4",contentId:c.mediaObjectId}))},showUnavailable:function(b){b&&(a("#imageBlock .unvailableVariation").html(b),a("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){a("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:P,toggleVideoCaption:N,selectThumbnail:y,spinner:function(b,c){var d=a("#imageBlock .a-spinner").parent();0===d.length&&(d=a("\x3cdiv\x3e\x3c/div\x3e").append(a("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),
b.append(d),d.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));c?d.show():d.hide();return d},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:g,getIndexForVariant:v,getImageHash:l,lazyLoadingRequired:function(a,c,b){c=Math.max(v(a.color,
c.getCurrentItem().variant,b),0);c=-1!==l(a.color,c,b);a=b.colorToAsin[a.color]&&b.colorToAsin[a.color].asin;a=!a||"success"!==g(a);return!b.lazyLoadExperienceDisabled&&!c&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:w,repositionVideoBanner:function(a,c,b,d){setTimeout(function(){var b=a.width()/a.height();w(b,16,9,c)},d||0)},getVideosCount:function(a,c){return c.useChildVideos&&c.colorToVideo[a]?c.colorToVideo[a].length:c.videos?c.videos.length:
0},getVideoHash:function(a,c,b){if(b.useChildVideos){if(!n(b.colorToVideo))return-1;a=b.colorToVideo[a]}else a=b.videos;return n(a)&&n(a[c])&&n(a[c].url)?a[c]:-1},isImmersiveViewEnabled:x,playVideoInImmersiveView:function(a,c){return x(a,c)&&a.useTabbedImmersiveView},useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},getMediaSourceInfo:function(){return n(K)?K.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,c,b){return{requester:"DetailPageTablet",marketplaceID:b.marketPlaceID,
clientPrefix:"ImageBlock_tablet",locale:b.languageCode,page:"DetailPageTablet",placement:"ImageBlock",video:{videoURL:b.url,imageURL:b.slateUrl}}},addTag:function(a){q.ue&&q.ue.tag&&q.ue.tag(a)},isShoppableScenesEnabled:function(){return G.isEnabled&&0<a(".mirai-scene-image-block-template").length}}});"use strict";u.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(f,a,b,k){function m(d,e,f,m){if(!b.isjQueryObjDefined(d.find(".a-button-selected"))){var n=
D.getCurrentItem();if(!m||"chromeless-video"!==n.type||!r.autoplayVideo){m=0;if("hero-image"===n.type){m=p(n.color,n.variant);if(-1===m)return;m=-1!==m?m:0}var G=e+m;G>=f&&(m=0,G=e);e=k.getHeroImageHash(r,n.color,m);-1!==e&&(I.dispatch("updateModel",{data:{index:m,thumbnailIndex:G,variant:e.variant,type:"hero-image"}}),e=d.find(".item").get(G),b.selectGivenThumbnail(a(e),d))}}}function d(d,e,f){if("hero-video"===D.getCurrentItem().type)return d;e=r.heroImage&&r.heroImage[e];var k=d;b.isDefined(e)&&
(a.each(e,function(a,e){d<r.maxAlts&&(b.createThumbnail({type:"hero-image",index:a,thumbnailIndex:d,variant:e.variant},e.thumb,P,"imageThumbnail"),d++)}),m(P,k,d,f));return d}function p(d,e){var f=r.heroImage;if(1>f.length||!b.isDefined(f[d])||!b.isDefined(e))return-1;var k=-1;a.each(f[d],function(a,b){b.variant===e&&(k=a)});return k}function e(){if(N.length&&r.repositionHeroImage){var a=k.getHeroDimParams(r,D.getCurrentItem()),d;b.isDefined(a)&&(d=b.isDefined(a.xPos)?a.xPos+"px "+a.yPos+"px ":"center "+
a.yPos+"px ",N.css({"background-position":d,"background-size":a.width+"px "+a.height+"px ","max-width":a.width+"px ","min-height":a.height+"px ",filter:"","-ms-filter":""}))}}function G(a,d,e,f){if(N.length&&a&&d){if("function"===typeof e||f){var p=new Image;p.onload=f?function(){N.css("background-image",'url("'+a+'")')}:e;p.src=a}e=d[1];var p=d[0],m;f||N.css({"background-image":'url("'+a+'")'});r.repositionHeroImage&&(d=k.getHeroDimParams(r,D.getCurrentItem(),d),b.isDefined(d)&&(e=d.width,p=d.height,
m=b.isDefined(d.xPos)?d.xPos+"px "+d.yPos+"px ":"center "+d.yPos+"px "));N.css({"background-position":m,"background-size":e+"px "+p+"px ","max-width":e+"px ","min-height":p+"px ",filter:"","-ms-filter":""})}}function n(b,d,e,f){b=k.getHeroImageHash(r,b,d);if(-1===b)return-1;d=a.map(b.main,function(a,b){return b})[0];G(d,b.main[d],e,f)}function q(a,b,d){if("hero-image"!==a.type)return-1;var e=p(a.color,D.getCurrentItem().variant),e=-1!==e?e:0;if(-1===k.getHeroImageHash(r,a.color,e))return-1;var f=
D.getCurrentItem();a.thumbnailIndex=f.thumbnailIndex;a.type=f.type;a.variant=f.variant;a.index=e;A(a,b,d)}function A(a,b,d){var e=k.getHeroImageHash(r,a.color,a.index),p;p=a&&y&&f.equals(a,y)?!0:!1;y||(y=a);if(!p&&a||b)n(a.color,a.index,b,d),y=a;N.removeClass("hide-background");f.trigger("dp:image-block:update",e)}var u,r,D,I,P,N,y={};return function(g,f,k,p){u=this;r=g;D=f;I=p;r.heroImage[r.landingAsinColor]=r.heroImage[r.defaultColor];u.render=function(b,g,e,f,k,p,h){P=f;N=a("#heroImage");b=d(g,
b,p);q(D.getCurrentItem(),h,p);return b};u.update=function(a){var d=a.data;"ingress"!==d.type&&N.addClass("hide-background");"swatchHover"===a.type?a.captured||(d.type=D.getCurrentItem().type,-1!==q(d)&&(a.captured=!0)):"hero-image"===d.type&&(A(d),"click"!==a.type&&r.usePeekHover||b.selectGivenThumbnail(a.$declarativeParent,P))};I.register("resize",e)}});"use strict";u.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(f,a,b){var k,m,d,p;return function(a,G,n,
q){k=this;m=a;d=q;k.render=function(a,d,e,n,G,P,q){p=n;k=this;e=m.maxAlts;n=d;G=m.colorImages[a]?m.colorImages[a].length:0;G+=b.getVideosCount(a,m);a=m.heroImage[a];P=0;a&&(P=a.length);a=G+P;a>e&&(e=a-e,a=p.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),e+="+",n={type:"ingress",index:0,thumbnailIndex:d,variant:""},a.find("#altIngressText").append(e),f.declarative.create(a,"thumb-action",n),p.append(a),n=d++);return n};k.update=function(a){"ingress"===
a.data.type&&"click"===a.type&&d.dispatch("imageClick",a)}}});"use strict";u.when("imageBlockUtils").register("ImageBlockState",function(f){return function(a,b,k){this.getImageHash=function(b){var d=k.getCurrentItem();b=f.getIndexForVariant(d.color,b||"MAIN",a);return f.getImageHash(d.color,b,a)};this.onImageUpdateForTwister=function(a){b.register("updateSelection",function(b){"swatchClick"===b.type&&"function"===typeof a&&a()})}}});"use strict";u.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",
function(f,a){function b(a,b){var e;if(b.repositionHeroImage){e=a[1];var f=a[0];if(768>=(q.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))e*=.7,f*=.7;else{var k=((q.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,k=Math.max(Math.min(k,1),0);e*=.7+.3*k;f*=.7+.3*k}e=[e,f]}return e}function k(b,f,e){var k;if(e.repositionHeroImage){var m=q.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;e=e.heroFocalPoint;
if(a.isDefined(e)){k=Math.max((m-Math.min(1500,b))/2,0);var u=Math.max((m-b)/2,0);k-=u;m=Math.max(Math.min(m,1500),1024);k=k+(m-420-23)/2-b/f[1]*e}}return k}function m(b,k,e){b=b.heroImage;return!(a.isDefined(b)&&a.isDefined(b[k])&&a.isDefined(b[k][e])&&a.isDefined(b[k][e].main))||1>f.map(b[k][e].main,function(a,b){return b}).length?-1:b[k][e]}return{getHeroImageHash:m,getHeroDimParams:function(d,p,e){if(d.repositionHeroImage){if(!a.isDefined(e)){e=m(d,p.color,p.index);if(-1===e)return;p=f.map(e.main,
function(a,b){return b})[0];e=e.main[p]}p=b(e,d);d=k(p[0],e,d);return{height:p[1],width:p[0],xPos:d,yPos:75}}}}});"use strict";u.when("postMetric").register("ImageBlockImmersiveViewShowroom",function(f){function a(){this.render=function(){};this.update=function(){}}return function(b,k,m,d){var p=!1,e=new a;u.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(a){a!==fa&&(p=!0,e=new a(b,k,m,d))});b&&!0===b.showroomEnabled&&!1===p&&f.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");
return e}});"use strict";u.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(f,a,b){function k(a,k){var e=f.copy(a);if(b.isDefined(a)&&a.length>k){try{for(var m=-1,n=0;n<a.length;n++){var q=a.charAt(n);if(" "===q||"."===q||"?"===q||";"===q||","===q||":"===q)m=n;if(n===k-4){e=a.substring(0,-1===m?n:m);break}}}catch(u){e=a.substring(0,k-3)}e+="..."}return e}function m(a,b){var e=a.lastIndexOf(".");return a="_"===a.charAt(e-1)?a.substring(0,e-1)+b+a.substring(e):a.substring(0,
e)+"."+b+a.substring(e)}return{getDimension:function(a,b){var e=parseInt(a.css(b),10);return isNaN(e)?0:e},attachTabSelectHandler:function(a,b){f.on("dp:ivTabs:"+a+":select",b)},attachTabDeselectHandler:function(a,b){f.on("dp:ivTabs:"+a+":deselect",b)},attachImmersiveViewResizeHandler:function(a){f.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){f.off("dp:image-block:immersive-view:resize",a)},attachImmersiveViewResetHandler:function(a){f.on("a:popover:afterHide:immersiveView",
a)},hideTabHeading:function(b){a("#"+b).hide()},unhideTabHeading:function(b){a("#"+b).show()},addStyleCodeToURL:m,getResizedThumbnailURL:function(a,b){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var e="_AA50_";b&&(e+="FMpng_RI_");return m(a,e)},populateVariationSelection:function(d){if(b.isDefined(q.DetailPage)&&b.isDefined(q.DetailPage.StateController)){d.empty();
var f=q.DetailPage.StateController.getState(),e=f.variation_label_order,k;for(k in e)if(e.hasOwnProperty(k)){var m=e[k],u=f.selected_variations[m],m=f.variation_display_labels[m];u&&a("\x3cdiv/\x3e").addClass("ivVariations").text(m+":"+u).appendTo(d)}}},populateTitle:function(a,b,e){a.html(e.title);a.attr("title",a.text());a.html(k(e.title,b))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,b){a.animate({opacity:.4},100,b)},logError:function(a,b,e,f){q.ueLogError&&
q.ueLogError(f,{logLevel:a,attribution:b,message:e})}}});"use strict";u.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(f,a,b,k,m){function d(){m.populateTitle(l.find("#ivTitle"),160,g)}function p(){var a=v.getCurrentItem().color;x=g.colorImages[a];w=g.heroImage[a];B=L=0;b.isDefined(w)&&(B=w.length);b.isDefined(x)&&(L=x.length)}function e(a){return a.hiRes||a.large||a.main[a.main.length-1]}function q(){var a=l.find("#ivStage").find("#ivLargeImage"),
b=a.width(),d=a.height(),e=a.find(".fullscreen");e.removeAttr("style");var f=e.width(),k=e.height();0<e.length&&(e[0].naturalWidth&&(f=e[0].naturalWidth),e[0].naturalHeight&&(k=e[0].naturalHeight));a.css("cursor","auto");var f=0===f?1:f,k=0===k?1:k,m=Math.min(b/f,d/k),p=k*m,n=f*m;1>m?(E?a.css("cursor","url('"+g.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),c=!0):c=!1;f=Math.min(n,f);k=Math.min(p-20,k);e.css({"margin-top":(d-
k)/2,"margin-left":(b-f)/2,height:k,width:f});a.css("visibility","visible");h=!1}function n(a){var b=l.find("#ivLargeImage");b.css("visibility","hidden");b.empty();m.animateStageIn(b);b.append(a);q()}function u(c){l.find("#ivLargeImage").css("display","none");l.find("#ivLargeImage").css("display","block");var d;"hero-image"===c?b.isDefined(w)&&(d=e(w[K.index])):b.isDefined(x)&&(d=e(x[K.index]));if(b.isDefined(d)){l.find(".fullscreen").remove();var f=a("\x3cimg\x3e").attr("src",d).addClass("fullscreen"),
h=l.find("#ivLargeImage");m.animateStageOut(h,function(){f.load(function(){n(f)});if(f[0].complete)n(f);else{h.empty();var b=(h.height()-104)/2,c=(h.width()-80)/2;a("\x3cimg\x3e").attr("src",g.staticImages.spinner).css({position:"relative",top:b+"px",left:c+"px"}).appendTo(h)}})}}function A(a){l.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?K.type="hero-image":K.type="image";K.index=a.attr("id").split("_")[1];u(K.type);k.postCountMetric("dpcc_iv_thumbCLick_"+
(parseInt(K.index,10)+1)+"_"+(B+L))}function J(){l.delegate(".ivThumb","click",function(){var b=a(this);A(b)})}function r(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function D(a){var b=H.top-(a.pageY-M[1])*C;a=r(H.left-(a.pageX-M[0])*C,F.left);b=r(b,F.top);l.find(".fullscreen").css({left:a,top:b})}function I(){l.delegate("#ivLargeImage","click",function(a){if(h)q();else if(c){l.find(".fullscreen").removeAttr("style");if(c){var b=l.find("#ivLargeImage"),d=b.find(".fullscreen");E?b.css("cursor",
"url('"+g.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));h=!0;var e=l.find("#ivLargeImage");F.left=e.width()-d.width();F.top=e.height()-d.height();var e=b.height()/2,f=b.width()/2;M=[b.offset().left+f,b.offset().top+e];H.top=e-d.height()/2;H.left=f-d.width()/2;d.css({position:"relative",left:H.left,top:H.top});C=Math.max(d.height()/b.height(),d.width()/b.width())}D(a);k.postCountMetric("dpcc_iv_largeImageCLick")}});
l.delegate("#ivLargeImage","mousemove",function(a){h&&D(a)})}function P(){l.find("#ivLargeImage").empty()}function N(c){if(S){l=a("#ivMain");p();K=v.getCurrentItem();d();m.populateVariationSelection(l.find("#ivVariationSelection"));c=l.find("#ivThumbs");c.find(".ivRow").not(".placeholder").remove();for(var e=B+L,f=0,g=0;f<e;)for(var h=c.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(c),k=0;4>k&&f<e;k++,f++,g++)if(g<B){var n=w[f].thumb,r=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id",
"ivHeroImage_"+f).appendTo(h);r.find(".ivThumbImage").css("background",'url("'+m.getResizedThumbnailURL(n)+'") center no-repeat')}else g>=B&&g<L+B&&(n=x[f-B].thumb,r=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(f-B)).appendTo(h),r.find(".ivThumbImage").css("background",'url("'+m.getResizedThumbnailURL(n)+'") center no-repeat'));T();S=!1}else d();c=a("#ivImagesTab").height();l.css("height",c);e=l.find("#ivTitle").outerHeight(!0);f=l.find("#ivVariationSelection").outerHeight(!0);
g=l.find("#ivThumbs");h=m.getDimension(g,"margin-top")+m.getDimension(g,"margin-bottom");g.css("height",c-e-f-h);l.find("#ivLargeImage").css("height",c);c=l.find("#ivStage");e=l[0]&&l[0].getBoundingClientRect&&Math.floor(l[0].getBoundingClientRect().width)||l.width();c.css("width",e-m.getDimension(l,"padding-left")-m.getDimension(l,"padding-right")-l.find("#ivThumbColumn").width()-m.getDimension(c,"margin-left")-m.getDimension(c,"margin-right"));K=v.getCurrentItem();c="hero-image"===K.type?l.find("#ivHeroImage_"+
K.index):"image"===K.type?l.find("#ivImage_"+K.index):b.isDefined(w)?l.find("#ivHeroImage_"+K.index):l.find("#ivImage_"+K.index);b.isjQueryObjDefined(c)||(c=l.find("#ivImage_0"));A(c)}var y,g,v,l,w,x,B,L,K,E=navigator.userAgent.match(/msie|trident/i),S=!0,h=!1,c=!1,F={},H={},C,M,S=!0,T=f.once(function(){J();I();m.attachImmersiveViewResizeHandler(N);m.attachTabDeselectHandler("ivImagesTab",P)});return function(b,c,d,e){y=this;g=b;v=c;y.render=function(b,c,d,e,f,g){S=!0;p();0===B+L?m.hideTabHeading("ivImagesTabHeading"):
m.unhideTabHeading("ivImagesTabHeading");1===B+L?a("#ivThumbs").hide():a("#ivThumbs").show()};y.update=function(a){};m.attachTabSelectHandler("ivImagesTab",N)}});"use strict";u.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(f,a,b,k,m,d,p){function e(){B.delegate(".ivThumb","click",function(){var b=a(this);B.find(".ivThumb").removeClass("selected");b.addClass("selected");
b.hasClass("ivThumbVideo")&&(L.type="chromeful-video",L.index=b.attr("id").split("_")[1])})}function G(){if(R){var b=a("#ivVideosTab").height();B.css("height",b);var c=B.find(".vse-lb-container");K=b-m.getDimension(c,"padding-top")-m.getDimension(c,"padding-bottom");c.css({"max-height":b,overflow:"hidden"});if(M){B.css({"max-width":Math.floor(1.77*K)});return}var b=B.find(".vse-player-container"),c=B.find(".vse-video-action-strip"),d=B.find(".vse-lb-video-metadata"),e=Math.floor(K-m.getDimension(d,
"height")-m.getDimension(c,"height")),f=Math.floor(1.77*e);b.css({"max-height":e,"max-width":f,marginLeft:"auto",marginRight:"auto"});d.css({"max-width":f,marginLeft:"auto",marginRight:"auto"});c.css({"max-width":f,marginLeft:"auto",marginRight:"auto"})}T&&(b=B.find(".vse-vertical-scroll"),c=m.getDimension(b,"margin-top")+m.getDimension(b,"margin-bottom"),b.css("max-height",K-c))}function n(){u();E&&E.pause();U=!1;H=!0;F=null;V=!0;R=!1}function u(){U=!1;E&&E.pause()}function A(c){F=c.clickTimeStamp?
c.clickTimeStamp:f.now();b.isDefined(x)&&(x.eventTimestamp=F);U=!0;C&&(p.get(f,"#ivVideoBlock",w,z,Y),B=a("#ivVideoBlock"),l.getCurrentItem(),L=l.getCurrentItem(),ka(),N());G();C=!1;D()}function J(b){C&&(B=a("#ivVideoBlock"),l.getCurrentItem(),L=l.getCurrentItem(),ka());U&&D();G()}function r(a){E=a.player;k.postTimeMetric("vse_ib_desktop_player_initialisation_duration",f.now()-ga);v.imageBlockRenderingStartTime&&k.postTimeMetric("vse_ib_desktop_time_to_player_interactive",f.now()-v.imageBlockRenderingStartTime);
R&&(N(),D())}function D(){if(E&&U&&(B.find(".vse-lb-container").animate({opacity:1},200),E.play(x),k.postCountMetric("dpcc_vse_videoBlock_video_played"),H)){var a=q.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,k.postTimeMetric("dpcc_vse_vitff",a),H=!1)}}function I(){f.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function P(a){S=a.popover.$popover;R=!0;N()}function N(){if(R&&V&&U&&E){S.addClass(f.$(S).find(".vse-lb-container").data("cssClass"));var a=x;ba&&(a=
fa,ba=!1);f.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:a});G();V=!1}}function y(a){document.getElementsByClassName("videoBlockIngress")[0].click();fa=a;ba=!0}var g,v,l,w,x,B,L,K,E,S,h,c,F,H=!0,C=!0,M=!1,T=!1,U=!1,V=!0,R=!1,ba=!1,fa,ga=0,ka=f.once(function(){e();m.attachImmersiveViewResizeHandler(J);m.attachTabDeselectHandler("ivVideosTab",u);m.attachImmersiveViewResetHandler(n)}),X=function(c,d,e){a("#ivVideoBlockSpinner").addClass("aok-hidden");k.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+
d.placement);c=l.getCurrentItem().color;c=b.getVideoHash(c,0,v);E||(E=b.createAiryInstanceForChromeful(a("#ivVideoBlock"),c,v.airyConfig,"ImmersiveView"));M=!0;a("#ivVideoBlock").css({"max-width":1.77*K,margin:"0 auto"});U&&M&&E.play({isAsync:!0})},ca=function(b,c,d){C||p.get(b,"#ivVideoBlock",w,z,Y);a("#ivVideoBlockSpinner").addClass("aok-hidden")},z=function(a,b,c){T=!0;G()},Y=function(a,b,c){k.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+b.pageContext.placement+"_"+b.configuration.type)};
return function(a,e,k,p){g=this;v=a;l=e;g.render=function(a,e,g,k,p,n){a=l.getCurrentItem().color;e=b.getVideoHash(a,0,v);!0===n?h=v.mediaAsin:(h=v.colorToAsin[a]&&v.colorToAsin[a].asin,h=b.isDefined(h)?h:v.mediaAsin);c=null!==v.vseVideoDataSourceTreatment&&"T1"===v.vseVideoDataSourceTreatment?"ASIN":"physicalID";C=!0;-1===e?m.hideTabHeading("ivVideosTabHeading"):(m.unhideTabHeading("ivVideosTabHeading"),w={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:e.marketPlaceID,locale:e.languageCode,
product:{contentID:h,contentIDType:"ASIN"},video:{contentID:e.mediaObjectId,contentIDType:c,videoURL:e.url,imageURL:e.slateUrl},requestId:v.dpRequestId,metadata:{ProductTitle:v.title}},x={videoUrl:w.video.videoURL,contentId:w.video.contentID,duration:0,vendorCode:"",eventTimestamp:b.isDefined(F)?F:f.now(),imageUrl:w.video.imageURL,productAsin:w.product.contentID,index:0},b.isDefinedAndNotEmpty(E)&&(E.destroy(),E=null),ga=f.now(),d.get(f,"#ivVideoBlock",w,ca,X))};g.update=function(a){};m.attachTabSelectHandler("ivVideosTab",
A);f.on("vsePlayer-detailpage-imageblock",r);f.on("a:popover:afterShow:immersiveView",P);f.on("a:popover:beforeHide:immersiveView",I);f.on("detailpage-imageblock-leave-pip",y)}});"use strict";u.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric","imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",function(f,a,b,k,m,d,p,e,q){function n(){var b=a("#iv360Tab").height();C.css("height",b);var c=C.find("#ivTitle360").outerHeight(!0),
d=C.find("#ivVariationSelection360").outerHeight(!0),e=C.find("#ivThumbs360"),f=p.getDimension(e,"margin-top")+p.getDimension(e,"margin-bottom");e.css("height",b-c-d-f);b=C.find("#ivStage360");c=C[0]&&C[0].getBoundingClientRect&&Math.floor(C[0].getBoundingClientRect().width)||C.width();b.css("width",c-p.getDimension(C,"padding-left")-p.getDimension(C,"padding-right")-C.find("#ivThumbColumn360").width()-p.getDimension(b,"margin-left")-p.getDimension(b,"margin-right"))}function u(){D();var a=C.find("#ivLarge360");
a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});p.animateStageIn(a)},200);A()}function A(){if(0<t){var a=C.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function J(b,e){if(t<b.length){var f=a("\x3cimg /\x3e").css({display:"block",width:6*T+"px",height:U+"px"});f.hide();e.append(f);f.get(0).onload=function(){e.closest(document.documentElement).length&&(t++,1===t&&(A(),0<z&&(m.time("dppc_loadTime360",Date.now()-z,c.mediaAsin),d.postTimeMetric("dppc_loadTime360",
Date.now()-z))),0<Y&&(m.time("dppc_perSpriteloadTime360",Date.now()-Y,c.mediaAsin),d.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-Y)),C.find("#iv360Spinner").hide(),f.show(),X=5*M.imageLocations[Math.floor(ca/M.imageLocations[0].length)][ca%M.imageLocations[0].length],J(b,e))};f.attr("src",b[t].replace(/(\._SP)\d+(,)\d+/,"$1"+R+"$2"+V));Y=Date.now()}}function r(a){if(b.isDefined(M.spriteWidthSizes)&&0<M.spriteWidthSizes.length){var c=M.spriteWidthSizes,d=c.length,e=c[0],f=c[d-1];if(a<=e)return e;
if(a>f)return f;for(e=0;e<d;e++)if(a>c[e]&&a<=c[e+1])return c[e+1]}else return a}function D(){var b=C.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",c.staticImages.spinnerNoLabel).attr("id",
"iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),ga=!0,I())}function I(){if(b.isDefined(M.spriteURLs)&&b.isDefined(C)&&ga&&!ka){var d=C.find("#ivLarge360"),e=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});b.isDefined(M.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",M.staticImages.hint360).appendTo(e);
a("\x3cdiv\x3e").css({"text-align":"center"}).text(c.staticStrings.dragToSpin).appendTo(e);e.appendTo(d);var e=M.imageWidth,f=M.imageHeight,h=d.parent().width(),k=d.parent().height(),m=0,p=0;e/f>h/k?(R=r(h),V=Math.round(f/e*R),T=Math.ceil(h),U=Math.ceil(V/R*h),p=(k-U)/2):(V=r(k),R=Math.round(e/f*V),U=Math.ceil(k),T=Math.ceil(R/V*k),m=(h-T)/2);d.css({"margin-left":m,"margin-top":p,width:T+"px",height:U+"px",overflow:"hidden",position:"relative"});d.children("#image-360-sprites").css("width",6*T+"px");
J(M.spriteURLs,C.find("#image-360-sprites"),0);e=C.find("#ivLarge360");e.bind("mousedown",g);e.bind("touchstart",P);e.bind("touchmove",N);e.bind("touchend",y);a(document).bind("mousemove",v);a(document).bind("mouseup",l);b.isDefined(c.staticImages.grab)&&d.css("cursor","url('"+c.staticImages.grab+"'), auto");ka=!0}}function P(a){aa=!0;na=a.originalEvent.targetTouches[0].clientX}function N(a){aa&&(w(a.originalEvent.targetTouches[0].clientX-na),na=a.originalEvent.targetTouches[0].clientX)}function y(a){aa&&
(aa=!1)}function g(a){la=!0;ba=a.originalEvent.clientX;b.isDefined(c.staticImages.grabbing)&&(a=C.find("#ivLarge360"),a.css("cursor","url('"+c.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+c.staticImages.grabbing+"'), auto"));return!1}function v(a){la&&(w(a.originalEvent.clientX-ba),ba=a.originalEvent.clientX)}function l(a){la&&(la=!1,b.isDefined(c.staticImages.grab)&&(a=C.find("#ivLarge360"),a.css("cursor","url('"+c.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor",
"auto")))}function w(a){X-=a/T*180;ja&&(m.count("dppc_360dragToSpin",c.mediaAsin),d.postCountMetric("dppc_360dragToSpin"));ja=!1;for(a=X;0>a;)a+=360;for(;360<a;)a-=360;X=a;var e;a=360;for(var f=0;f<t;f++)for(var g=0;g<M.imageLocations[f].length;g++){var h=Math.abs(X-5*M.imageLocations[f][g]);h<a&&(a=h,e=f*M.imageLocations[0].length+g)}e!==ca&&(a=Math.floor(e/M.imageLocations[0].length),a!==Math.floor(ca/M.imageLocations[0].length)&&(b.isDefined(ia)||(ia=document.createElement("canvas").getContext("2d")),
f=C.find("#image-360-sprites").children(),ia.drawImage(f[a],0,0)),a=C.find(".iv360Hint").not(".iv360HintFaded"),b.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));ca=e;a=e%M.imageLocations[0].length*-1*T;e=-1*Math.floor(e/M.imageLocations[0].length)*U;f=C.find("#ivLarge360").children("#image-360-sprites");f.css("-webkit-transform","translate3d("+a+"px, "+e+"px, 0)");f.css("transform","translate3d("+a+"px, "+e+"px, 0)")}function x(){if(Z){C=a("#ivMain360");var b=F.getCurrentItem().color;
L()&&K(b);M=L()?c.spin360ColorData[b]:fa;p.populateTitle(C.find("#ivTitle360"),160,c);p.populateVariationSelection(C.find("#ivVariationSelection360"));C.find("#ivLarge360").empty();t=0;ka=ga=!1;ca=X=0;da();Z=!1}0!==a("#iv360Tab").height()&&(p.detachImmersiveViewResizeHandler(x),n(),u(),z=Date.now(),ha=ja=!0,m.count("dppc_click360",c.mediaAsin),d.postCountMetric("dppc_click360"))}function B(a,f,g){a=c.colorToAsin[g];var h={},l=500;if(!a||!a.asin)if(g===c.defaultColor)a={asin:c.winningAsin};else return;
h.params={asin:a.asin};var p="360"+a.asin,n=Date.now();h.success=function(a){m.time("dppc_asyncRequestTime360",Date.now()-n,c.mediaAsin);d.postTimeMetric("dppc_asyncRequestTime360",Date.now()-n);a&&b.isDefined(a.spin360)?((a=a.spin360.spin360Model)&&e.setData(a),b.ajaxState(p,"success")):h.error()};h.error=function(){m.count("dppc_asyncFailedTransient360",c.mediaAsin);d.postCountMetric("dppc_asyncFailedTransient360");m.time("dppc_asyncRequestTime360",Date.now()-n,c.mediaAsin);d.postTimeMetric("dppc_asyncRequestTime360",
Date.now()-n);l*=2;16E3>=l?setTimeout(function(){n=Date.now();k.load("/gp/product/features/apparel-main-image/360.html",h)},l):(m.count("dppc_asyncFailed360",c.mediaAsin),d.postCountMetric("dppc_asyncFailed360"),b.ajaxState(p,"fail"))};b.ajaxState(p)&&"fail"!==b.ajaxState(p)||(k.load("/gp/product/features/apparel-main-image/360.html",h),b.ajaxState(p,"sent"))}function L(){return c&&b.isDefined(c.spin360ConfigEnabled)&&c.spin360ConfigEnabled}function K(a){return b.isDefinedAndNotEmpty(c.spin360ColorData[a])?
!0:b.isDefined(c.spin360LazyLoadEnabled)&&c.spin360LazyLoadEnabled}function E(){ha&&(m.time("dppc_duration360",Date.now()-z,c.mediaAsin),d.postTimeMetric("dppc_duration360",Date.now()-z),ha=!1)}function S(a){a=c.colorToAsin[a.color]&&c.colorToAsin[a.color].asin;a||(a=c.mediaAsin);return a}var h,c,F,H,C,M,T,U,V,R,ba,na,ga=!1,ka=!1,X=0,ca=0,z=0,Y=0,la=!1,aa=!1,t=0,ia,ja=!0,ha=!1,Z=!0,da=f.once(function(){p.attachImmersiveViewResizeHandler(x);p.attachImmersiveViewResizeHandler(n);p.attachImmersiveViewResetHandler(E);
p.attachTabDeselectHandler("iv360Tab",E)});return function(g,k,l,n){h=this;c=g;F=k;H=n;g=c.landingAsinColor;k=c.defaultColor;b.isDefined(c.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",p.addStyleCodeToURL(c.staticImages.icon360,"_FMpng_RI_"));L()&&(c.spin360ColorData||(c.spin360ColorData={}),g===k&&b.isDefinedAndEmpty(c.spin360ColorData[k])&&delete c.spin360ColorData[k]);f.on(q.TWISTER_DATA_EVENT,function(a){S(F.getCurrentItem())===a&&(M=
e.getData(a),I(),a={type:"updatedData",data:F.getCurrentItem()},H.dispatch("updateView",a))});h.render=function(g,h,k,l,n,r){Z=!0;!L()||b.isDefinedAndEmpty(c.spin360ColorData[g])&&!e.getData(S(F.getCurrentItem()))?p.hideTabHeading("iv360TabHeading"):(c.spin360ColorData[g]=e.getData(S(F.getCurrentItem())),b.isDefinedAndNotEmpty(c.spin360ColorData[g])?(a("#ivThumbs360").hide(),p.unhideTabHeading("iv360TabHeading"),b.isImmersiveViewEnabled(c,F.getCurrentItem().color)&&L()&&K(g)&&(h===c.maxAlts&&(g=l.find(".item.imageThumbnail"),
h=l.find(".item.videoThumbnail"),b.isDefined(h)&&1<h.length?h.last().remove():g.last().remove()),g=l.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),f.declarative.create(g,"button-360-click"),l.append(g),m.count("dppc_display360",c.mediaAsin),d.postCountMetric("dppc_display360"))):b.isDefined(c.spin360LazyLoadEnabled)&&c.spin360LazyLoadEnabled?(c.spin360ColorData[g]={},p.hideTabHeading("iv360TabHeading"),B(l,h,g)):p.hideTabHeading("iv360TabHeading"))};
h.update=function(a){};p.attachTabSelectHandler("iv360Tab",x)}});u.register("nexusLogger360",function(){return{count:function(f,a){q.ue&&q.ue.event({asin:a,metricName:f,metricValue:1},"hit-360","hit360.clientEvent.3")},time:function(f,a,b){q.ue&&q.ue.event({asin:b,metricName:f,metricValue:a},"hit-360","hit360.clientEvent.3")}}});u.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});u.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(f,
a){var b={};return{setData:function(k){var m=k.asin;b[m]||(b[m]=k,f.trigger(a.TWISTER_DATA_EVENT,m))},getData:function(a){return b[a]}}});"use strict";u.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(f,a){u.register("vse_ns_preLoaderHook",function(){function b(k,m){try{var d=k.A,p=k.block,e=k.request,q=k.handleFailure,n=k.handleSuccess,u=d.$;m--;var A=3-m-1,J=d.now();d.ajax("/vap/ew/componentbuilder",{params:e,paramsFormat:"json",crossDomain:!0,method:"post",
contentType:"application/json",timeout:e.timeout||5E3,withCredentials:!0,success:function(a){var b=d.now()-J;f.postTimeMetric("vse_preLoaderHook:success:",b);f.postCountMetric("vse_preLoaderHook:success:"+e.page+":"+e.placement+":"+A);u(p).html(a);n(d,e,a)},error:function(a){f.postCountMetric("vse_preLoaderHook:error:"+e.page+":"+e.placement+":"+A);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<m?b(k,m):(f.postCountMetric("vse_preLoaderHook:error:",1),q(d,e,a))}})}catch(r){a.logError("FATAL",
"vse_ns_desktop","[vse_ns_preLoaderHook] ",r)}}return{get:function(a,f,d,p,e){b({A:a,block:f,request:d,handleFailure:e,handleSuccess:p},3)}}});u.register("vse_ns_lazyLoaderHook",function(){function b(k,m,d){try{var p=k.A,e=k.context,q=k.handleFailure,n=k.handleSuccess;m.attr("data-configuration");var u=atob(m.attr("data-configuration")),A=JSON.parse(u),J={pageContext:e,configuration:A},r=p.now();d--;var D=3-d-1;p.ajax("/vap/ew/subcomponent/"+A.type,{params:J,paramsFormat:"json",method:"post",contentType:"application/json",
timeout:e.timeout||5E3,withCredentials:!0,success:function(a){var b=p.now()-r;f.postTimeMetric("vse_lazyLoaderHook:success:",b);f.postCountMetric("vse_lazyLoaderHook:success:"+e.page+":"+e.placement+":"+A.type+":"+D);m.html(a);n(p,J,a)},error:function(a){f.postCountMetric("vse_lazyLoaderHook:error:"+e.page+":"+e.placement+":"+A.type+":"+D);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<d?b(k,m,d):(f.postCountMetric("vse_lazyLoaderHook:error:",1),q(p,J,a))}})}catch(I){a.logError("FATAL",
"vse_ns_desktop","[vse_ns_lazyLoaderHook] ",I)}}return{get:function(a,f,d,p,e){var q=a.$;q(f+" div[data-configuration]").each(function(){b({A:a,context:d,handleFailure:e,handleSuccess:p},q(this),3)})}}});u.register("vse_ns_videoPlayer",function(){function b(k,m,d){try{var p=k.A,e=k.block,q=k.request,n=k.handleFailure,u=k.handleSuccess,A=p.$;d--;var J=3-d-1,r=p.now();p.ajax("/vap/ew/subcomponent/vseplayer",{params:q,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:q.timeout||
5E3,withCredentials:!0,success:function(a){var b=p.now()-r;f.postTimeMetric("vse_lightPlayerLoaderHook:success:",b);f.postCountMetric("vse_lightPlayerLoaderHook:success:"+q.page+":"+q.placement+":"+J);A(e).html(a);u(p,q,a)},error:function(a){f.postCountMetric("vse_lightPlayerLoaderHook:error:"+q.page+":"+q.placement+":"+J);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<d?b(k,d):(f.postCountMetric("vse_lightPlayerLoaderHook:error:",1),n(p,q,a))}})}catch(D){a.logError("FATAL","vse_ns_lightPlayer",
"[vse_ns_lightPlayerLoaderHook] ",D)}}return{get:function(a,f,d,p,e){b({A:a,block:f,request:d,handleFailure:e,handleSuccess:p},3)}}})});"use strict";u.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(f,a,b,k,m){var d=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=b.colorImages,e=0,f;for(f in a)a[f]&&a[f].length&&(e+=a[f].length);a="image_size_bucket:gt"+d[d.length-1];for(f=1;f<d.length;f++)if(e<=d[f]){a="image_size_bucket:"+d[f-1]+"-"+d[f];break}m.postCountMetric(a);
k.addTag(a)})();(function(){var b=a.colorImages;b&&b.initial&&b.initial.length&&(b=b.initial.length,q.ue&&ue.count&&ue.count("altImageCount",b))})();(function(){var a=b.lazyLoadExperienceDisabled;k.isDefined(b.lazyLoadExperienceDisabled)&&!a&&(m.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),k.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});u.when("A","get-resource-time","postMetric","afterLoad").execute(function(f,a,b){var k=f.state("desktop-landing-image-data");k&&(k=
f.values(k),a=a.getResourceTimeByName("img",k),f.each(a,function(a){a&&(a.responseEnd!=fa&&b.postCountMetric("ibDesktopLandingImageDownloadTime",q.parseInt(a.responseEnd)),a.transferSize!=fa&&(0===a.transferSize?b.postCountMetric("ibDesktopLandingImageCached",1):(b.postCountMetric("ibDesktopLandingImageSizeInBytes",q.parseInt(a.transferSize)),b.postCountMetric("ibDesktopLandingImageNotCached",1))))}))});u.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",function(f,
a,b,k){function m(b,d){var e=a("\x3cimg src\x3d'"+(d?r.staticImages.shoppableSceneDotHighlighted:r.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");e.css({display:d?"none":"inline-block"});e.addClass("mirai-scene-tag").addClass(d?"active-tag":"inactive-tag");return e}function d(b){var d=a("\x3cspan\x3e");f.each(b.tags,function(b){var e=a("\x3cdiv\x3e").css({position:"absolute",left:100*b.left+"%",top:100*b.top+"%",height:"auto",width:"auto"});e.append(m(b,!1));e.append(m(b,!0));e.bind("mouseenter",
function(){p(a(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});f.declarative.create(e,"scenes-show-details-tags-ib",{tagId:b.link});d.append(e)});return d.children()}function p(a){a.addClass("mirai-scene-dot-pulsate");f.delay(function(){a.removeClass("mirai-scene-dot-pulsate")},4E3)}function e(a,b){a.css({display:"none"});b.css({display:"inline-block"})}function q(a,b,d){a.eq(d).css({display:"inline-block"});b.eq(d).css({display:"none"})}function n(a){u.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",
function(){f.trigger("mirai:scene-details-change",{physicalId:a})})}function O(){var b=a("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),d=a("\x3cimg class\x3d'item-tag'\x3e").attr("src",r.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),e=a("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");e.html(r.staticStrings.shoppableSceneViewProductsButton);return b.append(d).append(e)[0].outerHTML}function A(a){function b(){a.$tagPlaceholder.replaceWith(g);
var d=g.find(".mirai-scene-tag.active-tag"),e=g.find(".mirai-scene-tag.inactive-tag");q(d,e,0);p(g.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));I=!0;a.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+a.index,{wb:1});x=!0;k.postCountMetric("miraiShoppableScenes_imageLoadedCount")}if(a.shoppableScene){var m=a.$viewProductsButton.find(".a-button-text");if(0===m.children().length){m.append(O());f.declarative.create(a.$viewProductsButton,
"scenes-show-details-view-products-ib",{tagId:a.shoppableScene.tags[0].link});var g=d(a.shoppableScene),n=g.find(".mirai-scene-tag.active-tag"),l=g.find(".mirai-scene-tag.inactive-tag"),w=a.shoppableScene.physicalId,x=!1;f.on("mirai:index:change",function(a){a.scenePhysicalId===w&&(a=a.selectedIndices[0],e(n,l),q(n,l,a),p(g.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(a)),I=!0)});f.on("mirai:scene-details-change",function(a){a.physicalId!==w||I||(e(n,l),q(n,l,0),p(g.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),
I=!0)});f.on("a:image:load:shoppable-scene:"+a.index,function(){x||(b(),k.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});f.on("shoppable-scene-image-loaded",function(d){d.index!=a.index||x||(b(),k.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});u.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",function(){f.trigger("mirai:scene-side-sheet-init",{icons:r.staticImages,strings:r.staticStrings});f.trigger("mirai:scene-details-init",
{scene:a.shoppableScene,imageSource:a.imageSource})})}}}var J,r,D,I=!1;return function(a,d,e,f){J=this;r=a;D=f;b.isShoppableScenesEnabled()?(D.register("initialize-shoppable-scene",A),J.render=function(a,b,d,e,f,g,k){},J.update=function(a){"mouseenter"===a.type&&(a.data.shoppableScene?n(a.data.shoppableScene.physicalId):I=!1)}):(a=function(){},J.render=a,J.update=a)}});u.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}})});
/* ******** */
(function(k){var f=window.AmazonUIPageJS||window.P,q=f._namespace||f.attributeErrors,c=q?q("DetailPageShowroomImageBlockAssets",""):f;c.guardFatal?c.guardFatal(k)(c,window):c.execute(function(){k(c,window)})})(function(k,f,q){k.when("A","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-detail-page-rendering","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-view",function(c,r,h,e,g,a){function f(a){a=u.colorToAsin[a.color].asin;
a||(a=u.mediaAsin);return a}var b=void 0,u=void 0,m=void 0,p=void 0,k=void 0,n=void 0,t=void 0;return function(d,w,q,l){q=new Date;b=this;u=d;m=w;p=l;c.on(g.TWISTER_DATA_EVENT,function(a){f(m.getCurrentItem())===a&&(a={type:"updatedData",data:m.getCurrentItem()},p.dispatch("updateView",a))});b.render=function(b,d,r,g,w,q){b=new Date;k=g;n=w.find("#main-showroom-container");n.parent().find("#showroom-canvas-caption");c.$("#main-image-container");try{var v=f(m.getCurrentItem());if(h.isDataValidForAsin(v)){var z=
new Date,l=h.getDataForAsin(v);e.refresh(p,l.asin,l.defaultStageId);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN,new Date-z);if(!q){var x=new Date;e.updateMainImage(n,l.imageData,p);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE,new Date-x)}var y=new Date;d=e.createThumbnail(u,g,d,l.imageData);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL,new Date-y);var A=new Date;c.$("#ivShowroomTabHeading").removeClass("aok-hidden");
a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING,new Date-A);if(v!==t){var B=new Date;a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED);var C=a.createShowroomAtfEvent(l.defaultStageId,v,a.EVENT_NAMES.IMAGEBLOCK_LOAD,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(C);t=v;a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT,new Date-B)}}else c.$("#ivShowroomTabHeading").addClass("aok-hidden")}catch(E){c.$("#ivShowroomTabHeading").addClass("aok-hidden")}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER,
new Date-b);return d};b.update=function(b){var t=new Date;try{var d=b.data;m.setCurrentEvent(b);if(d.type===g.SHOWROOM_THUMBNAIL_TYPE){var c=new Date;d.interaction=b.type;d.isUserGenerated=!0;if(h.isDataValidForAsin(f(d))){"mouseenter"===d.interaction&&d.type===g.SHOWROOM_THUMBNAIL_TYPE&&e.isShowroomMainImageHidden()&&a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER);var l=h.getDataForAsin(f(d)).imageData;e.updateMainImage(n,l,p);e.showShowroomMainImage(n)}u.usePeekHover&&"click"!==b.type||
(r.selectGivenThumbnail(b.$declarativeParent,k),"click"===b.type&&r.useTabbedImmersiveView(u)&&e.handleShowroomThumbnailClick(b));a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT,new Date-c)}else d.type!==g.SHOWROOM_MAIN_IMAGE_TYPE&&("swatchHover"===b.type?d.color===m.getCurrentItem().color&&m.getCurrentItem().type===g.SHOWROOM_THUMBNAIL_TYPE?e.showShowroomMainImage(n):e.hideShowroomMainImage(n):e.hideShowroomMainImage(n))}catch(D){}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE,
new Date-t)};(d=document.getElementById("ivShowroomTabHeading"))&&d.addEventListener("click",function(b){a.addOne(a.COUNTER_NAMES.TAB_SELECT);b=h.getDataForAsin(t).defaultStageId;b=a.createShowroomAtfEvent(b,t,a.EVENT_NAMES.IMMERSIVE_VIEW_TAB_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(b)});a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE,new Date-q)}});"use strict";k.register("showroom-image-block-constants",function(){return{SHOWROOM_THUMBNAIL_TYPE:"showroom-image",SHOWROOM_MAIN_IMAGE_TYPE:"showroom-main-image",
TWISTER_DATA_EVENT:"showroomTwisterData",STRING_IDS:{MAIN_IMAGE_OVERLAY_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text",MAIN_IMAGE_OVERLAY_TEXT_T1:"showroom_dp_imageblock_atf_main_image_overlay_text_T1",MAIN_IMAGE_OVERLAY_TEXT_T2:"showroom_dp_imageblock_atf_main_image_overlay_text_T2",MAIN_IMAGE_OVERLAY_ICON_URL:"showroom_dp_imageblock_atf_main_image_overlay_icon_url"}}});"use strict";k.when("A","jQuery","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-constants",
"showroom-image-block-metrics").register("showroom-image-block-detail-page-rendering",function(c,r,h,e,g,a){function f(n){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT);var t=a.createShowroomAtfEvent(p,k,a.EVENT_NAMES.IMAGEBLOCK_MAIN_IMAGE_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(t);b(n)}function b(a){a.action="showroomIngressClick";a.data=l;m.dispatch("showroomIngressClick",a)}var k,m,p,l;return{createThumbnail:function(a,b,d,c){d===a.maxAlts&&(b.find(".item.imageThumbnail").last().remove(),
d--);l={type:"showroomIngress",index:0,thumbnailIndex:d,variant:c.variant};h.createThumbnail({type:g.SHOWROOM_THUMBNAIL_TYPE,index:0,thumbnailIndex:d,variant:c.variant},c.thumb,b,"showroom-imageblock-thumbnail");d++;return d},updateMainImage:function(a,b){var d=a.find("#showroom-main-image");d.length?d.attr("src",b.hiRes):(d=r('\x3cdiv id\x3d"showroom-main-image-container"\x3e                    \x3cimg src\x3d"'+b.hiRes+'" id\x3d"showroom-main-image"/\x3e                \x3c/div\x3e'),d.appendTo(a),
c.declarative.create(a,"showroom-image-action",l),c.declarative("showroom-image-action",["click"],f),"T2"===e.getTreatment()?(d.addClass("t2"),b=a.find("#showroom-main-image-overlay-container-t2"),b.length||(b=e.getStringValue(g.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT),d=e.getStringValue(g.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT_T2),b=r('                \x3cdiv id\x3d"showroom-main-image-overlay-container-t2"\x3e                    \x3cdiv style\x3d"padding-bottom: 7px;width: 40%;"\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-subtext"\x3e'+
b+'\x3c/span\x3e                    \x3c/div\x3e                    \x3cspan class\x3d"a-button a-button-base"\x3e                        \x3cspan class\x3d"a-button-inner"\x3e                            \x3cinput class\x3d"a-button-input"\x3e                            \x3cspan class\x3d"a-button-text" id\x3d"showroom-main-image-overlay-button"\x3e                                \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"https://m.media-amazon.com/images/G/01/showroom/icon-lightbulb._CB628497379_.png"/\x3e'+
d+"\n                            \x3c/span\x3e                        \x3c/span\x3e                    \x3c/span\x3e                \x3c/div\x3e                "),b.appendTo(a))):(b=a.find("#showroom-main-image-overlay-container-t1"),b.length||(b=e.getStringValue(g.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT_T1),d=e.getStringValue(g.STRING_IDS.MAIN_IMAGE_OVERLAY_ICON_URL),b=r('                \x3cdiv id\x3d"showroom-main-image-overlay-container-t1"\x3e                    \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"'+
(d?d:"")+'"/\x3e                    \x3cdiv\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-text"\x3e'+b+"\x3c/span\x3e                    \x3c/div\x3e                \x3c/div\x3e                "),b.appendTo(a))))},hideShowroomMainImage:function(a){a.parent().css("z-index",-1);a.parent().addClass("aok-hidden")},showShowroomMainImage:function(a){a.parent().css("z-index",2);a.parent().removeClass("aok-hidden")},isShowroomMainImageHidden:function(){return r("#showroom-outer-container").hasClass("aok-hidden")},
handleShowroomIngressClick:b,handleShowroomThumbnailClick:function(c){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT);var e=a.createShowroomAtfEvent(p,k,a.EVENT_NAMES.IMAGEBLOCK_THUMBNAIL_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(e);b(c)},handleShowroomMainImageClick:f,refresh:function(a,b,d){m=a;k=b;p=d}}});"use strict";k.when("A").register("showroom-image-block-metrics",function(c){return{EVENT_NAMES:{IMAGEBLOCK_LOAD:"srm_atf_imageBlock_load",IMAGEBLOCK_THUMBNAIL_CLICK:"srm_atf_thumbnail_click",
IMAGEBLOCK_MAIN_IMAGE_CLICK:"srm_atf_main_image_click",IMMERSIVE_VIEW_TAB_CLICK:"srm_atf_iv_tab_click"},COUNTER_NAMES:{SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED:"showroom:atf:imageBlock:feature:render",SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER:"showroom:atf:imageBlock:thumbnail:hover",SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT:"showroom:atf:imageBlock:thumbnail:select",SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT:"showroom:atf:imageBlock:mainImage:select",SHOWROOM_IMAGEBLOCK_FAILED_TO_INITIALIZED_WEBLAB_TRIGGER:"showroom:atf:imageBlock:failedToInitializeWeblabTrigger"},
STATUS_TYPES:{SUCCESS:"success",ERROR:"error"},TIMER_NAMES:{SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE:"showroom:atf:imageBlock:latency:invoke",SHOWROOM_IMAGEBLOCK_LATENCY_LOAD:"showroom:atf:imageBlock:latency:load",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER:"showroom:atf:imageBlock:latency:render",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN:"showroom:atf:imageBlock:latency:render:getDataForAsin",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE:"showroom:atf:imageBlock:latency:render:updateMainImage",
SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:createThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UTIL_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:utilCreateThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING:"showroom:atf:imageBlock:latency:render:unhideTabHeading",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT:"showroom:atf:imageBlock:latency:render:logEvent",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE:"showroom:atf:imageBlock:latency:update",
SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT:"showroom:atf:imageBlock:latency:update:handleThumbnailEvent"},addOne:function(c){try{if(f.ue&&c){var h=(f.ue.count(c)||0)+1;f.ue.count(c,h)}}catch(e){}},logValue:function(c,h){try{f.ue&&c&&"number"===typeof h&&f.ue.count(c,h)}catch(e){}},createShowroomAtfEvent:function(f,h,e,g){var a={};a.showroomId=f;a.asin=h;a.eventType=e;a.status=g;a.device=c.capabilities?c.capabilities.isAmazonApp?"AmazonApp":c.capabilities.mobile?"mobile":c.capabilities.tablet?
"tablet":"desktop":"";a.userAgent=navigator?navigator.userAgent:"";a.producerId="showroom_atf";a.schemaId="com.amazon.showroom.ingress.clientEvent.3";return a},logShowroomAtfEvent:function(c){try{f.ue&&f.ue.event&&c&&f.ue.event(c,"showroom_atf","com.amazon.showroom.ingress.clientEvent.3")}catch(h){}}}});"use strict";k.when("A","showroom-image-block-constants").register("showroom-lite-atf-feature-data",function(c,f){function h(){return g[a]}function e(a){return a in g}var g={},a,k="T1";return{setData:function(b){b&&
b.asin&&b.imageDomain&&b.defaultCollageUrl&&b.defaultStageId&&Array.isArray(b.itemMainImagePhysicalIds)&&(a=b.asin,b.experimentTreatment&&(k=b.experimentTreatment),e(b.asin)||(g[b.asin]=b,c.trigger(f.TWISTER_DATA_EVENT,b.asin)))},getDataForCurrentAsin:h,getDataForAsin:function(a){return g[a]},getStringValue:function(a){return h().displayStrings?h().displayStrings[a]:""},getTreatment:function(){return k},isDataValidForAsin:e}})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("DetailPagePaymentOptionsJavascript",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
